define((()=>(()=>{"use strict";var e={};(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})(e);var t=function(){var e=this,t=e._self._c;return t("v-alert",{staticClass:"white position-relative",attrs:{type:e.alertType,border:"left",elevation:"2",dismissible:"","colored-border":"",outlined:""},scopedSlots:e._u([{key:"close",fn:function({toggle:s}){return t("v-btn",{attrs:{icon:"",small:"",light:""},on:{click:s}},[t("v-icon",[e._v("close")])],1)}}]),model:{value:e.displayAlert,callback:function(t){e.displayAlert=t},expression:"displayAlert"}},[t("span",{staticClass:"text-color"},[e._v("\n    "+e._s(e.alertMessage)+"\n  ")]),e._v(" "),e.alert.click?t("v-btn",{staticClass:"primary--text",attrs:{text:""},on:{click:e.alert.click}},[e._v("\n    "+e._s(e.alert.clickMessage)+"\n  ")]):e._e()],1)};function s(e,t,s,i,n,r,o,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=s,c._compiled=!0),i&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=l):n&&(l=a?function(){n.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}t._withStripped=!0;const i=s({props:{alert:{type:Object,default:null}},data:()=>({displayAlert:!0}),computed:{alertMessage(){return this.alert.message},alertType(){return this.alert.type}},watch:{displayAlert(){this.displayAlert||this.$emit("dismissed")}},created(){window.setTimeout((()=>this.displayAlert=!1),5e3)}},t,[],!1,null,null,null).exports;var n=function(){var e=this,t=e._self._c;return t("v-snackbar",{attrs:{value:e.displayAlerts,color:"transparent",elevation:"0",app:"",bottom:"",left:""}},e._l(e.alerts,(function(s){return t("exo-news-notification-alert",{key:s.message,attrs:{alert:s},on:{dismissed:function(t){return e.deleteAlert(s)}}})})),1)};n._withStripped=!0;const r={"exo-news-notification-alert":i,"exo-news-notification-alerts":s({props:{name:{type:String,default:null}},data:()=>({alerts:[]}),computed:{displayAlerts(){return this.alerts&&this.alerts.length}},created(){this.$root.$on("news-notification-alert",(e=>this.alerts.push(e))),this.$root.$on("confirm-news-deletion",((e,t)=>{if(e&&e.newsId){const s=this.$t("news.details.undoDelete"),i=t?this.$t("news.details.deleteDraftSuccess"):this.$t("news.details.deleteSuccess");this.$root.$emit("news-notification-alert",{message:i,type:"success",click:()=>this.undoDeleteNews(e.newsId,t),clickMessage:s})}})),this.$root.$on("update-draft-visibility",(e=>{if(e){const e=this.$t("news.composer.alert.share.draft.success");this.$root.$emit("news-notification-alert",{message:e,type:"info"})}else{const e=this.$t("news.composer.alert.unshare.draft.success");this.$root.$emit("news-notification-alert",{message:e,type:"info"})}})),this.$root.$on("activity-shared",((e,t,s)=>{if("newsApp"===s&&e&&t&&t.length>0){const e=t.map((e=>e.displayName)),s=`${this.$t("news.share.message")} ${e.join(", ")}`;this.$root.$emit("news-notification-alert",{message:s,type:"success",spaces:t})}})),this.$root.$on("restricted-space",((e,t)=>{if(e){const s=t?this.$t("news.activity.notAuthorizedUserForSpaceHidden"):this.$t("news.activity.notAuthorizedUser").replace("{0}",e);this.$root.$emit("news-notification-alert",{message:s,type:"warning"})}})),this.$root.$on("confirm-newsTarget-deletion",(e=>{if(e){const t=this.$t("news.details.undoDelete"),s=this.$t("news.newsTarget.deleteSuccess");this.$root.$emit("news-notification-alert",{message:s,type:"success",click:()=>this.undoDeleteNewsTarget(e),clickMessage:t})}}))},methods:{addAlert(e){e&&(this.alerts.push(e),window.setTimeout((()=>this.deleteAlert(e)),5e3))},deleteAlert(e){const t=this.alerts.indexOf(e);this.alerts.splice(t,1),this.$forceUpdate()},undoDeleteNews(e,t,s){return this.$newsServices.undoDeleteNews(e).then((()=>{this.deleteAlert(t),this.addAlert({message:s?this.$t("news.details.deleteDraftCanceled"):this.$t("news.details.deleteCanceled"),type:"success"})}))},undoDeleteNewsTarget(e){return this.$newsTargetingService.undoDeleteTarget(e).then((()=>{this.deleteAlert(alert),this.addAlert({message:this.$t("news.newsTarget.deleteCanceled"),type:"success"})}))},truncateString:e=>e.length<=10?e:e.slice(0,10).concat("...")}},n,[],!1,null,null,null).exports};for(const e in r)Vue.component(e,r[e]);return e})()));