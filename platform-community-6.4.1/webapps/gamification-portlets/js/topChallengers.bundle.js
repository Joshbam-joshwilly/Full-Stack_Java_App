define((()=>(()=>{"use strict";var e={d:(t,a)=>{for(var r in a)e.o(a,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:a[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{init:()=>v});var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("gamification-overview-widget",{attrs:{loading:e.loading,"see-all-url":!e.isExternal&&e.peopleURL||""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("\n      "+e._s(e.$t("gamification.overview.topChallengersTitle"))+"\n    ")]},proxy:!0},{key:"content",fn:function(){return[a("gamification-overview-widget-row",{directives:[{name:"show",rawName:"v-show",value:e.displayPlaceholder,expression:"displayPlaceholder"}],staticClass:"my-auto",attrs:{disabled:""},scopedSlots:e._u([{key:"icon",fn:function(){return[a("v-icon",{attrs:{color:"secondary",size:"55px"}},[e._v("fas fa-trophy")])]},proxy:!0},{key:"content",fn:function(){return[a("span",{directives:[{name:"sanitized-html",rawName:"v-sanitized-html",value:e.$t("gamification.overview.topChallengersSummary"),expression:"$t('gamification.overview.topChallengersSummary')"}]})]},proxy:!0}])}),e._v(" "),a("gamification-overview-widget-row",{directives:[{name:"show",rawName:"v-show",value:e.rankDisplayed&&!e.isExternal,expression:"rankDisplayed && !isExternal"}],staticClass:"my-auto",scopedSlots:e._u([{key:"content",fn:function(){return[a("gamification-rank",{attrs:{"is-overview-display":!0}})]},proxy:!0}])})]},proxy:!0}])})],1)};function r(e,t,a,r,o,i,n,s){var l,p="function"==typeof e?e.options:e;if(t&&(p.render=t,p.staticRenderFns=a,p._compiled=!0),r&&(p.functional=!0),i&&(p._scopeId="data-v-"+i),n?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},p._ssrRegister=l):o&&(l=s?function(){o.call(this,(p.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(p.functional){p._injectStyles=l;var d=p.render;p.render=function(e,t){return l.call(t),d(e,t)}}else{var c=p.beforeCreate;p.beforeCreate=c?[].concat(c,l):[l]}return{exports:e,options:p}}a._withStripped=!0;var o=r({data:()=>({rankDisplayed:!1,loading:!0}),computed:{peopleURL:()=>`${eXo.env.portal.context}/${eXo.env.portal.portalName}/people`,isExternal:()=>"true"===eXo.env.portal.isExternal,displayPlaceholder(){return(this.isExternal||!this.rankDisplayed)&&!this.loading}},created(){document.addEventListener("listOfRankedConnections",(e=>{e&&(this.rankDisplayed=e.detail>0,this.loading=!1)}))}},a,[],!1,null,null,null);o.options.__file="src/main/webapp/vue-app/topChallengers/components/TopChallengers.vue";const i=o.exports;var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{class:e.isOverviewDisplay?"mt-n10 mb-5":"",attrs:{row:"",wrap:"","mx-0":""}},[a("v-flex",{attrs:{"d-flex":"",xs12:"","my-5":""}},[a("v-layout",{attrs:{row:"",wrap:"","mx-2":"","align-start":"",px12:""}},[e.isOverviewDisplay?e._e():a("v-flex",{attrs:{"d-flex":"",xs12:"","mt-n2":"","justify-center":""}},[a("div",[a("span",{staticClass:"pe-2 text-uppercase subtitle-2 profile-card-header"},[e._v(e._s(this.$t("homepage.profileStatus.weeklyRank")))])])]),e._v(" "),e.isOverviewDisplay?e._e():a("v-flex",{attrs:{"d-flex":"",xs12:"","mt-n6":""}},[a("v-icon",{attrs:{color:"grey darken-2",size:"20"},on:{click:function(t){return e.toProfileStats()}}},[e._v("\n          "+e._s(e.$vuetify.rtl?"mdi-arrow-right":"mdi-arrow-left")+"\n        ")])],1)],1)],1),e._v(" "),a("v-flex",{attrs:{xs12:"","mb-1":""}},[a("v-layout",{staticClass:"podium-layout",attrs:{row:"",wrap:"","mx-0":""}},[a("v-flex",{class:e.isOverviewDisplay?"mb-7":"",attrs:{"d-flex":"","justify-center":"","align-end":""}},[e.leaderBoardArray[1]?a("div",{staticClass:"transparent mx-1 align-center"},[a("exo-user-avatar",{attrs:{"profile-id":e.leaderBoardArray[1].remoteId,size:40,"extra-class":"me-2 ml-2 pa-0 mt-0 mb-1 rounded-circle elevation-1 d-inline-block",avatar:"",popover:"","popover-left-position":""}}),e._v(" "),a("v-card-text",{staticClass:"top2 grey lighten-1 px-3 py-2 flex d-flex white--text justify-center font-weight-bold",staticStyle:{height:"40px"}},[e._v("\n            "+e._s(e.leaderBoardArray[1].score)+"\n          ")])],1):e._e(),e._v(" "),e.leaderBoardArray[0]?a("div",{staticClass:"transparent mx-1 align-center"},[a("exo-user-avatar",{attrs:{"profile-id":e.leaderBoardArray[0].remoteId,size:40,"extra-class":"ml-2 me-2 pa-0 mt-0 mb-1 rounded-circle elevation-1 d-inline-block",avatar:"",popover:"","popover-left-position":""}}),e._v(" "),a("v-card-text",{staticClass:"top1 yellow darken-1 px-3 py-2 flex d-flex white--text justify-center font-weight-bold",staticStyle:{height:"55px"}},[e._v("\n            "+e._s(e.leaderBoardArray[0].score)+"\n          ")])],1):e._e(),e._v(" "),e.leaderBoardArray[2]?a("div",{staticClass:"transparent mx-1 align-center"},[a("exo-user-avatar",{attrs:{"profile-id":e.leaderBoardArray[2].remoteId,size:40,"extra-class":"me-2 ml-2 pa-0 mt-0 mb-1 rounded-circle elevation-1 d-inline-block",avatar:"",popover:"","popover-left-position":""}}),e._v(" "),a("v-card-text",{staticClass:"top3 amber darken-1 px-3 pb-1 flex d-flex white--text justify-center font-weight-bold pt-2px",staticStyle:{height:"25px"}},[e._v("\n            "+e._s(e.leaderBoardArray[2].score)+"\n          ")])],1):e._e()])],1)],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-list",{attrs:{height:"110"}},[e._l(e.listBelowPoduim,(function(t){return[t?[a("v-list-item",{key:t.remoteId,staticClass:"py-0 px-4 mt-n3"},[a("v-card",{staticClass:"me-2",attrs:{"min-width":"16",flat:""}},[e._v("\n              "+e._s(t.rank)+"\n            ")]),e._v(" "),a("exo-user-avatar",{attrs:{"profile-id":t.remoteId,size:25,"bold-title":t.socialId===e.identityId,"extra-class":"me-0 pa-0 my-0 text-truncate-2","popover-left-position":"","offset-x":"",popover:""}}),e._v(" "),a("v-list-item-action",{staticClass:"ml-auto"},[a("span",[e._v(e._s(t.score))])])],1)]:e._e()]}))],2)],1)],1)};n._withStripped=!0;var s=r({props:{isOverviewDisplay:{type:Boolean,default:()=>!1}},data:()=>({leaderBoardArray:[],listBelowPoduim:[],identityId:eXo.env.portal.profileOwnerIdentityId}),created(){this.getUsersByGamificationRank()},methods:{getUsersByGamificationRank(){("WEEK",fetch("/portal/rest/gamification/leaderboard/rank/all?loadCapacity=false&period=WEEK",{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Error when getting users by gamification rank")}))).then((e=>{document.dispatchEvent(new CustomEvent("listOfRankedConnections",{detail:e.length}));const t=eXo.env.portal.profileOwner,a=e.findIndex((e=>e.remoteId===t))+1;for(const t of e)this.leaderBoardArray.push(t);if(6===e.length||e.length>6&&a<7)for(let t=3;t<6;t++)this.listBelowPoduim.push(e[t]);else if(e.length<=3)for(const t of e)this.listBelowPoduim.push(t);else if(e.length>3&&e.length<6||a===e.length)for(let t=e.length-3;t<e.length;t++)this.listBelowPoduim.push(e[t]);else for(let t=a-2;t<a+1;t++)this.listBelowPoduim.push(e[t])}))},toProfileStats(){this.$emit("isProfileStats")}}},n,[],!1,null,null,null);s.options.__file="src/main/webapp/vue-app/profileStats/components/GamificationRank.vue";const l={"gamification-overview-top-challengers":i,"gamification-rank":s.exports};for(const e in l)Vue.component(e,l[e]);const p=eXo&&eXo.env&&eXo.env.portal&&eXo.env.portal.language||"en",d=[`${eXo.env.portal.context}/${eXo.env.portal.rest}/i18n/bundle/locale.addon.Gamification-${p}.json`,`${eXo.env.portal.context}/${eXo.env.portal.rest}/i18n/bundle/locale.portlet.Challenges-${p}.json`],c="topChallengers";function v(){exoi18n.loadLanguageAsync(p,d).then((e=>{Vue.createApp({template:`<gamification-overview-top-challengers id="${c}" />`,i18n:e,vuetify:Vue.prototype.vuetifyOptions},`#${c}`,"Top Challengers")}))}return t})()));