define((()=>(()=>{"use strict";var t={d:(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{init:()=>p});var n=function(){var t=this,e=t._self._c;return t.displayed?e("v-app",[e("v-card",{staticClass:"my-4 border-radius",attrs:{flat:""}},[e("v-list",{attrs:{"two-line":""}},[e("agenda-user-general-settings",{attrs:{settings:t.settings}}),t._v(" "),e("agenda-user-connector-settings",{attrs:{settings:t.settings}})],1)],1)],1):t._e()};function i(t,e,n,i,s,a,o,r){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):s&&(l=r?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var g=c.beforeCreate;c.beforeCreate=g?[].concat(g,l):[l]}return{exports:t,options:c}}n._withStripped=!0;const s=i({data:()=>({displayed:!0,settings:{agendaDefaultView:"week",agendaWeekStartOn:"MO",showWorkingTime:!1,workingTimeStart:"08:00",workingTimeEnd:"18:00"}}),created(){this.$root.$on("agenda-settings-refresh",this.initSettings),this.initSettings()},mounted(){document.addEventListener("hideSettingsApps",(t=>{t&&t.detail&&this.id!==t.detail&&(this.displayed=!1)})),document.addEventListener("showSettingsApps",(()=>this.displayed=!0)),this.$root.$on("agenda-settings-refresh",this.initSettings)},methods:{initSettings(t){if(!t)return this.$settingsService.getUserSettings().then((t=>(t&&(this.settings=t),this.$nextTick()))).finally((()=>this.$root.$applicationLoaded()));this.settings=t,this.$root.$applicationLoaded()}}},n,[],!1,null,null,null).exports;var a=function(){var t=this,e=t._self._c;return e("v-list-item",[e("v-list-item-content",[e("v-list-item-title",{staticClass:"title text-color"},[t._v("\n      "+t._s(t.$t("agenda"))+"\n    ")]),t._v(" "),t.settings?e("v-flex",{staticClass:"d-flex flex-wrap"},[e("v-chip",{staticClass:"ma-2",attrs:{color:"primary"}},[e("span",{staticClass:"text-capitalize"},[t._v(t._s(t.agendaSelectedView))]),t._v(" "),e("span",{staticClass:"ps-1"},[t._v(t._s(t.$t("agenda.view")))])]),t._v(" "),e("v-chip",{staticClass:"ma-2",attrs:{color:"primary"}},[e("div",{staticClass:"text-truncate"},[t._v("\n          "+t._s(t.agendaWeekStartOnLabel)+"\n        ")])]),t._v(" "),t.agendaWorkingTime?e("v-chip",{staticClass:"ma-2",attrs:{color:"primary"}},[e("div",{staticClass:"text-truncate"},[t._v("\n          "+t._s(t.agendaWorkingTime)+"\n        ")])]):t._e(),t._v(" "),t.settings.reminders?t._l(t.settings.reminders,(function(n,i){return e("v-chip",{key:i,staticClass:"ma-2",attrs:{color:"primary"}},[e("div",{staticClass:"text-truncate"},[n.before?[t._v("\n              "+t._s(t.$t("agenda.label.notifyMeBefore",{0:n.before,1:t.$t(`agenda.option.${n.beforePeriodType.toLowerCase()}s`).toLowerCase()}))+"\n            ")]:[t._v("\n              "+t._s(t.$t("agenda.label.notifyMeWhenEventStarts"))+"\n            ")]],2)])})):t._e()],2):t._e()],1),t._v(" "),e("v-list-item-action",[e("v-btn",{attrs:{small:"",icon:""},on:{click:t.openDrawer}},[e("i",{staticClass:"uiIconEdit uiIconLightBlue pb-2"})])],1),t._v(" "),e("agenda-user-setting-drawer",{ref:"agendaDrawer",attrs:{settings:t.settings}})],1)};a._withStripped=!0;const o=i({props:{settings:{type:Object,default:()=>null}},data:()=>({id:`Settings${parseInt(1e4*Math.random()).toString().toString()}`}),computed:{DAY_NAME_BY_ABBREVIATION(){return{MO:this.getDayFromAbbreviation("MO"),TU:this.getDayFromAbbreviation("TU"),WE:this.getDayFromAbbreviation("WE"),TH:this.getDayFromAbbreviation("TH"),FR:this.getDayFromAbbreviation("FR"),SA:this.getDayFromAbbreviation("SA"),SU:this.getDayFromAbbreviation("SU")}},agendaSelectedView(){return"day"===this.settings.agendaDefaultView?this.$t("agenda.label.viewDay"):"week"===this.settings.agendaDefaultView?this.$t("agenda.label.viewWeek"):this.$t("agenda.label.viewMonth")},agendaWeekStartOnLabel(){return this.DAY_NAME_BY_ABBREVIATION&&this.$t("agenda.settings.label.weekStartsOn",{0:this.DAY_NAME_BY_ABBREVIATION[this.settings.agendaWeekStartOn]})},agendaWorkingTime(){return this.settings&&this.settings.showWorkingTime&&this.settings.workingTimeStart&&this.settings.workingTimeEnd&&this.$t("agenda.settings.label.workingTime",{0:this.settings.workingTimeStart,1:this.settings.workingTimeEnd})}},methods:{openDrawer(){this.$refs.agendaDrawer.open()},getDayFromAbbreviation(t){return this.$agendaUtils.getDayNameFromDayAbbreviation(t,eXo.env.portal.language)},updateSettings(t){this.settings=t}}},a,[],!1,null,null,null).exports;var r=function(){var t=this,e=t._self._c;return e("v-list-item",[e("v-list-item-content",[e("v-list-item-title",{staticClass:"title text-color"},[e("div",[t._v("\n        "+t._s(t.$t("agenda.connectYourPersonalAgenda"))+"\n      ")])]),t._v(" "),e("v-list-item-subtitle",{staticClass:"my-3 text-sub-title font-italic"},[e("agenda-connector-status",{attrs:{connectors:t.connectors}},[e("template",{slot:"connectButton"},[t._v("\n          "+t._s(t.$t("agenda.connectYourPersonalAgendaSubTitle"))+"\n        ")])],2)],1)],1),t._v(" "),e("v-list-item-action",[e("v-btn",{attrs:{small:"",icon:""},on:{click:t.openDrawer}},[e("i",{staticClass:"uiIconEdit uiIconLightBlue pb-2"})])],1),t._v(" "),e("agenda-connectors-drawer",{attrs:{connectors:t.enabledConnectors}}),t._v(" "),e("agenda-connector",{attrs:{settings:t.settings,connectors:t.connectors,"auto-connect":""},on:{"connectors-loaded":function(e){t.connectors=e}}})],1)};r._withStripped=!0;const l={"agenda-user-settings":s,"agenda-user-general-settings":o,"agenda-user-connector-settings":i({props:{settings:{type:Object,default:()=>null}},data:()=>({connectors:[]}),computed:{enabledConnectors(){return this.connectors&&this.connectors.filter((t=>t.enabled))||[]}},methods:{openDrawer(){this.$root.$emit("agenda-connectors-drawer-open")},getDayFromAbbreviation(t){return this.$agendaUtils.getDayNameFromDayAbbreviation(t,eXo.env.portal.language)}}},r,[],!1,null,null,null).exports};for(const t in l)Vue.component(t,l[t]);if(extensionRegistry){const t=extensionRegistry.loadComponents("AgendaSettings");t&&t.length>0&&t.forEach((t=>{Vue.component(t.componentName,t.componentOptions)}))}Vue.use(Vuetify);const c=new Vuetify(eXo.env.portal.vuetifyPreset);document.dispatchEvent(new CustomEvent("displayTopBarLoading"));const d="AgendaSettingsApplication",g=eXo&&eXo.env.portal.language||"en",u=`${eXo.env.portal.context}/${eXo.env.portal.rest}/i18n/bundle/locale.portlet.Agenda-${g}.json`;function p(){const t=document.createElement("div");t.id=d,exoi18n.loadLanguageAsync(g,u).then((e=>{Vue.createApp({mounted(){document.dispatchEvent(new CustomEvent("hideTopBarLoading"))},template:`<agenda-user-settings v-cacheable id="${d}" />`,vuetify:c,i18n:e},t,"User Settings Agenda")}))}return e})()));