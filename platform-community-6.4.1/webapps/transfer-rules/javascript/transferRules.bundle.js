define((()=>(()=>{"use strict";var t={d:(e,n)=>{for(var s in n)t.o(n,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{init:()=>u});var n=function(){var t=this,e=t._self._c;return e("v-app",{attrs:{id:"transferRules"}},[e("v-card",{staticClass:"ma-4 border-radius",attrs:{flat:""}},[e("v-list",[e("v-list-item",[e("v-list-item-content",[e("v-list-item-title",{staticClass:"title text-color font-weight-bold transfertRulesTitle"},[t._v("\n            "+t._s(t.$t("documents.transferRules.label"))+"\n          ")])],1)],1),t._v(" "),e("v-list-item",[e("v-list-item-content",[e("v-list-item-title",{staticClass:"mb-1 text-color font-weight-medium textSize"},[t._v("\n            "+t._s(t.$t("documents.transferRules.suspend.download"))+"\n          ")]),t._v(" "),e("v-list-item-subtitle",{staticClass:"text-sub-title font-italic textSize"},[e("div",[t._v("\n              "+t._s(t.$t("documents.transferRules.suspend.download.description"))+"\n            ")])])],1),t._v(" "),e("v-list-item-action",[e("label",{staticClass:"switch d-inline-block"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.downloadDocumentStatus,expression:"downloadDocumentStatus"}],staticClass:"d-none",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.downloadDocumentStatus)?t._i(t.downloadDocumentStatus,null)>-1:t.downloadDocumentStatus},on:{click:function(e){return t.changeDownloadDocumentStatus(!t.downloadDocumentStatus)},change:function(e){var n=t.downloadDocumentStatus,s=e.target,o=!!s.checked;if(Array.isArray(n)){var a=t._i(n,null);s.checked?a<0&&(t.downloadDocumentStatus=n.concat([null])):a>-1&&(t.downloadDocumentStatus=n.slice(0,a).concat(n.slice(a+1)))}else t.downloadDocumentStatus=o}}}),t._v(" "),e("div",{staticClass:"slider text-left rounded-pill"},[e("span",{staticClass:"absolute-activate"},[t._v(t._s(t.$t("documents.transferRules.button.yes")))])]),t._v(" "),e("span",{staticClass:"absolute-deactivated text-right"},[t._v(t._s(t.$t("documents.transferRules.button.no")))])])])],1),t._v(" "),e("v-list-item",[e("v-list-item-content",[e("v-list-item-title",{staticClass:"mb-1 text-color font-weight-medium textSize"},[t._v("\n            "+t._s(t.$t("documents.transferRules.suspend.sharing"))+"\n          ")]),t._v(" "),e("v-list-item-subtitle",{staticClass:"text-sub-title font-italic textSize"},[e("div",[t._v("\n              "+t._s(t.$t("documents.transferRules.suspend.sharing.description"))+"\n            ")])])],1),t._v(" "),e("v-list-item-action",[e("label",{staticClass:"switch d-inline-block"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sharedDocumentStatus,expression:"sharedDocumentStatus"}],staticClass:"d-none",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.sharedDocumentStatus)?t._i(t.sharedDocumentStatus,null)>-1:t.sharedDocumentStatus},on:{click:function(e){return t.changeSharedDocumentStatus(!t.sharedDocumentStatus)},change:function(e){var n=t.sharedDocumentStatus,s=e.target,o=!!s.checked;if(Array.isArray(n)){var a=t._i(n,null);s.checked?a<0&&(t.sharedDocumentStatus=n.concat([null])):a>-1&&(t.sharedDocumentStatus=n.slice(0,a).concat(n.slice(a+1)))}else t.sharedDocumentStatus=o}}}),t._v(" "),e("div",{staticClass:"slider text-left rounded-pill"},[e("span",{staticClass:"absolute-activate"},[t._v(t._s(t.$t("documents.transferRules.button.yes")))])]),t._v(" "),e("span",{staticClass:"absolute-deactivated text-right"},[t._v(t._s(t.$t("documents.transferRules.button.no")))])])])],1)],1)],1)],1)};n._withStripped=!0;var s=function(t,e,n,s,o,a,r,i){var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=[],u._compiled=!0),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:u}}({data:()=>({sharedDocumentStatus:!1,downloadDocumentStatus:!1,uploadDocumentStatus:!1}),mounted(){this.$nextTick().then((()=>this.$root.$emit("application-loaded")))},created(){fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/transferRules/getTransfertRulesDocumentStatus`,{method:"GET",credentials:"include"}).then((t=>{if(t&&t.ok)return t.json();throw new Error("Error when getting shared documents status")})).then((t=>{this.sharedDocumentStatus="true"===t.sharedDocumentStatus,this.downloadDocumentStatus="true"===t.downloadDocumentStatus}))},methods:{changeSharedDocumentStatus(t){var e;e=t,fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/transferRules/saveSharedDocumentStatus`,{method:"PUT",credentials:"include",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((t=>{if(t&&t.ok)return t.json();throw new Error("Error when saving shared documents status")}))},changeDownloadDocumentStatus(t){!function(t){fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/transferRules/saveDownloadDocumentStatus`,{method:"PUT",credentials:"include",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((t=>{if(t&&t.ok)return t.json();throw new Error("Error when saving download documents status")}))}(t)}}},n);const o={"transfer-rules-app":s.exports};for(const t in o)Vue.component(t,o[t]);if(extensionRegistry){const t=extensionRegistry.loadComponents("transferRules");t&&t.length>0&&t.forEach((t=>{Vue.component(t.componentName,t.componentOptions)}))}Vue.use(Vuetify);const a=new Vuetify({dark:!0,iconfont:""});document.dispatchEvent(new CustomEvent("displayTopBarLoading"));const r="transferRules",i="undefined"!=typeof eXo?eXo.env.portal.language:"en",c=`${eXo.env.portal.context}/${eXo.env.portal.rest}/i18n/bundle/locale.portlet.transferRules-${i}.json`;function u(){exoi18n.loadLanguageAsync(i,c).then((t=>{const e=document.createElement("div");e.id=r,new Vue({mounted(){document.dispatchEvent(new CustomEvent("hideTopBarLoading"))},template:`<transfer-rules-app v-cacheable id="${r}" />`,vuetify:a,i18n:t}).$mount(e)}))}return e})()));