define((()=>(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{initDrawerOverlays:()=>Hn});var n={};e.r(n),e.d(n,{changePassword:()=>Le,checkImportUsersProgress:()=>De,cleanImportUsers:()=>Ne,confirm:()=>Ie,connect:()=>Te,deleteRelationship:()=>Xe,getConnections:()=>Se,getInvitations:()=>_e,getPending:()=>Ee,getUser:()=>ve,getUserByEmail:()=>$e,getUserSuggestions:()=>Ce,getUsers:()=>we,getUsersByAdvancedFilter:()=>be,getUsersByStatus:()=>xe,ignore:()=>ke,importUsers:()=>Ae,isDelegatedAdministrator:()=>ge,isSuperUser:()=>fe,isSynchronizedUserAllowedToChangePassword:()=>ye,multiSelectAction:()=>Re,updateProfileField:()=>Oe,updateProfileFields:()=>Pe});var i={};e.r(i),e.d(i,{accept:()=>at,acceptUserRequest:()=>ct,addApplication:()=>yt,addSpacesApplication:()=>Ke,cancel:()=>rt,cancelInvitation:()=>pt,checkExternals:()=>Et,createSpace:()=>nt,declineExternalInvitation:()=>Be,deny:()=>lt,findSpaceExternalInvitationsBySpaceId:()=>Ve,getSpaceApplications:()=>Je,getSpaceApplicationsChoices:()=>qe,getSpaceByDisplayName:()=>He,getSpaceById:()=>ze,getSpaceByPrettyName:()=>Ge,getSpaceMembers:()=>Me,getSpaceNavigations:()=>Ze,getSpaceTemplates:()=>Ue,getSpaces:()=>Qe,getSuggestionsSpace:()=>St,ignoreSuggestion:()=>_t,isSpaceMember:()=>Fe,join:()=>st,leave:()=>it,markAllAsRead:()=>kt,markAsRead:()=>Tt,markAsUnread:()=>It,moveApplicationDown:()=>bt,moveApplicationUp:()=>wt,promoteManager:()=>ut,promotePublisher:()=>ft,refuseUserRequest:()=>dt,removeApplication:()=>$t,removeManager:()=>ht,removeMember:()=>xt,removePublisher:()=>gt,removeRedactor:()=>vt,removeSpace:()=>et,removeSpacesApplication:()=>We,requestJoin:()=>ot,restoreSpaceHomeLayout:()=>Ye,setAsRedactor:()=>mt,shareActivityOnSpaces:()=>Ct,updateSpace:()=>tt});var r={};e.r(r),e.d(r,{getIdentityById:()=>Xt,getIdentityByProviderIdAndRemoteId:()=>Ot});var s={};e.r(s),e.d(s,{convertIdentityToSuggesterItem:()=>At,convertSuggesterItemToIdentity:()=>Dt,getSuggesterItemByIdentityId:()=>Nt,getSuggesterItemToIdentity:()=>Rt,search:()=>Lt,searchSpacesOrUsers:()=>Pt});var o={};e.r(o),e.d(o,{MAX_RANDOM_NUMBER:()=>Mt,abortUpload:()=>Ft,avatarExcceedsLimitError:()=>jt,bannerExcceedsLimitError:()=>Ut,deleteUpload:()=>Bt,generateRandomId:()=>Gt,getUploadProgress:()=>Vt,upload:()=>zt});var a={};e.r(a),e.d(a,{formatDateObjectToDisplay:()=>Kt,getDateObjectFromString:()=>qt,getISODate:()=>Wt,getRelativeTimeLabelKey:()=>Yt,getRelativeTimeValue:()=>Zt,getShortRelativeTimeLabelKey:()=>Qt,getShortRelativeTimeValue:()=>en});var l={};e.r(l),e.d(l,{setSettingValue:()=>tn});var c={};e.r(c),e.d(c,{isFeatureEnabled:()=>nn});var d={};e.r(d),e.d(d,{computeParentCommentsList:()=>yn,createActivity:()=>an,createComment:()=>fn,deleteActivity:()=>dn,getActivities:()=>rn,getActivityById:()=>sn,getActivityComments:()=>on,getActivityLikers:()=>hn,likeActivity:()=>mn,pinActivity:()=>pn,shareActivity:()=>ln,unlikeActivity:()=>vn,unpinActivity:()=>un,updateActivity:()=>cn,updateComment:()=>gn});var p={};e.r(p),e.d(p,{addFavorite:()=>bn,getFavorites:()=>wn,removeFavorite:()=>xn});var u={};e.r(u),e.d(u,{initTags:()=>Sn,searchTags:()=>_n});var h={};e.r(h),e.d(h,{initCometd:()=>Cn});var m={};e.r(m),e.d(m,{convertImageDataAsSrc:()=>On,htmlToText:()=>kn,trim:()=>Xn});var v={};e.r(v),e.d(v,{getBrandingInformation:()=>Ln,getMessageFromServerError:()=>Dn,throwErrorFromServerCall:()=>An,updateBrandingInformation:()=>Pn});var f={};e.r(f),e.d(f,{addSetting:()=>Rn,getSettings:()=>Nn,updateSetting:()=>jn});var g={};e.r(g),e.d(g,{addLabels:()=>Vn,deleteLabels:()=>Fn,getLabel:()=>Un,getLabels:()=>Mn,updateLabels:()=>Bn});var y=function(){var e=this,t=e._self._c;return t("v-navigation-drawer",{staticClass:"drawerParent",class:[!e.drawer&&"d-none d-sm-flex",e.bottom&&"v-navigation-drawer--is-mobile snippet-mobile-menu rounded-tr-xl rounded-tl-xl pt-5"],attrs:{right:e.rightDrawer,left:e.leftDrawer,bottom:e.bottomDrawer,absolute:!e.fixed,fixed:e.fixed,width:e.width,"hide-overlay":!e.showOverlay,temporary:!e.showOverlay,touchless:"",stateless:"",height:"100%","max-height":"100%","max-width":"100vw"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[e.initialized||e.eager?t("v-container",{staticClass:"pa-0",attrs:{"fill-height":""}},[t("v-layout",{attrs:{column:""}},[e.$slots.title?[t("v-flex",{staticClass:"mx-0 drawerHeader flex-grow-0"},[t("v-list-item",{staticClass:"pe-0"},[t("v-list-item-content",{staticClass:"drawerTitle align-start text-header-title text-truncate"},[e._t("title")],2),e._v(" "),t("v-list-item-action",{staticClass:"drawerIcons align-end d-flex flex-row"},[e._t("titleIcons"),e._v(" "),e.allowExpand&&!e.isMobile?t("v-btn",{attrs:{title:e.expandTooltip,icon:""},on:{click:e.toogleExpand}},[t("v-icon",{attrs:{size:"18"},domProps:{textContent:e._s(e.expandIcon)}})],1):e._e(),e._v(" "),t("v-btn",{attrs:{title:e.$t("label.close"),icon:""}},[t("v-icon",{on:{click:function(t){return e.close()}}},[e._v("mdi-close")])],1)],2)],1)],1),e._v(" "),e.loading?t("v-progress-linear",{attrs:{indeterminate:"",color:"primary"}}):t("v-divider",{staticClass:"my-0"})]:e._e(),e._v(" "),t("v-flex",{staticClass:"drawerContent flex-grow-1 overflow-auto border-box-sizing",class:e.bottomDrawer&&"pt-4"},[e._t("content")],2),e._v(" "),e.$slots.footer?[t("v-divider",{staticClass:"my-0"}),e._v(" "),e.$slots.footer?t("v-flex",{staticClass:"drawerFooter border-box-sizing flex-grow-0 px-4 py-3"},[e._t("footer")],2):e._e()]:e._e(),e._v(" "),e.confirmClose?t("exo-confirm-dialog",{ref:"closeConfirmDialog",attrs:{title:e.confirmCloseLabels.title,message:e.confirmCloseLabels.message,"ok-label":e.confirmCloseLabels.ok,"cancel-label":e.confirmCloseLabels.cancel,persistent:""},on:{ok:e.closeEffectively}}):e._e()],2)],1):e._e()],1)};function w(e,t,n,i,r,s,o,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:e,options:c}}y._withStripped=!0;const b=w({props:{value:{type:Boolean,default:()=>!1},right:{type:Boolean,default:()=>!1},left:{type:Boolean,default:()=>!1},bottom:{type:Boolean,default:()=>!1},fixed:{type:Boolean,default:()=>!1},eager:{type:Boolean,default:()=>!1},confirmClose:{type:Boolean,default:()=>!1},drawerWidth:{type:String,default:()=>"420px"},allowExpand:{type:Boolean,default:!1},showOverlay:{type:Boolean,default:!1},confirmCloseLabels:{type:Object,default:()=>({title:null,message:null,ok:null,cancel:null})},disablePullToRefresh:{type:Boolean,default:!1}},data:()=>({initialized:!1,drawer:!1,loading:!1,expand:!1,modalOpened:!1}),computed:{rightDrawer(){return this.right&&"ltr"===eXo.env.portal.orientation||this.left&&"rtl"===eXo.env.portal.orientation},leftDrawer(){return!this.rightDrawer&&!this.bottomDrawer},bottomDrawer(){return this.bottom&&this.isMobile},width(){return this.expand?"100%":this.drawerWidth},isMobile(){return this.$vuetify?.breakpoint?.smAndDown},expandIcon(){return this.expand?"mdi-arrow-collapse":"mdi-arrow-expand"},expandTooltip(){return this.expand&&this.$t("label.collapse")||this.$t("label.expand")}},watch:{value(){this.value&&!this.drawer?this.open():!this.value&&this.drawer&&this.close()},expand(){this.$emit("expand-updated",this.expand)},drawer(){if(this.drawer)document.dispatchEvent(new CustomEvent("drawerOpened")),this.initialized||(this.initialized=!0),eXo.openedDrawers.push(this),this.$emit("opened"),this.disablePullToRefresh&&(document.body.style.overscrollBehaviorY="contain");else{if(document.dispatchEvent(new CustomEvent("drawerClosed")),eXo.openedDrawers){const e=eXo.openedDrawers.indexOf(this);e>=0&&eXo.openedDrawers.splice(e,1)}this.$emit("closed"),this.disablePullToRefresh&&(document.body.style.overscrollBehaviorY="")}this.$emit("input",this.drawer),this.expand=!1}},created(){eXo.openedDrawers||(eXo.openedDrawers=[]),document.addEventListener("modalOpened",(()=>this.modalOpened=this.drawer)),document.addEventListener("modalClosed",(()=>this.modalOpened=!1)),document.addEventListener("closeAllDrawers",this.close),document.addEventListener("closeDisplayedDrawer",this.closeDisplayedDrawer)},methods:{open(){this.drawer=!0},closeDisplayedDrawer(){const e=eXo.openedDrawers.indexOf(this)===eXo.openedDrawers.length-1;this.drawer&&e&&this.close()},close(){this.confirmClose?this.$refs.closeConfirmDialog&&(event&&(event.preventDefault(),event.stopPropagation()),this.$refs.closeConfirmDialog.dialog?this.$nextTick(this.$refs.closeConfirmDialog.close):this.$nextTick(this.$refs.closeConfirmDialog.open)):(event&&(event.preventDefault(),event.stopPropagation()),this.closeEffectively())},closeEffectively(){this.drawer=!1},startLoading(){this.loading=!0},endLoading(){this.loading=!1},toogleExpand(){this.expand=!this.expand}}},y,[],!1,null,null,null).exports;var x=function(){var e=this,t=e._self._c;return t("v-dialog",{ref:"dialog",attrs:{persistent:e.persistent,width:e.width,"content-class":"uiPopup","max-width":"100vw"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t("v-card",{staticClass:"elevation-12"},[t("div",{staticClass:"ignore-vuetify-classes popupHeader ClearFix"},[t("a",{staticClass:"uiIconClose pull-right",attrs:{"aria-hidden":"true"},on:{click:e.close}}),e._v(" "),t("span",{staticClass:"ignore-vuetify-classes PopupTitle popupTitle text-truncate",domProps:{innerHTML:e._s(e.title)}})]),e._v(" "),t("v-card-text",{domProps:{innerHTML:e._s(e.message)}}),e._v(" "),e.hideActions?e._e():t("v-card-actions",[t("v-spacer"),e._v(" "),e.okLabel?t("button",{staticClass:"ignore-vuetify-classes btn btn-primary me-2",attrs:{disabled:e.loading,loading:e.loading},on:{click:e.ok}},[e._v("\n        "+e._s(e.okLabel)+"\n      ")]):e._e(),e._v(" "),e.cancelLabel?t("button",{staticClass:"ignore-vuetify-classes btn ms-2",attrs:{disabled:e.loading,loading:e.loading},on:{click:e.close}},[e._v("\n        "+e._s(e.cancelLabel)+"\n      ")]):e._e(),e._v(" "),t("v-spacer")],1)],1)],1)};x._withStripped=!0;const S=w({props:{loading:{type:Boolean,default:function(){return!1}},persistent:{type:Boolean,default:function(){return!1}},title:{type:String,default:function(){return null}},message:{type:String,default:function(){return null}},okLabel:{type:String,default:function(){return null}},cancelLabel:{type:String,default:function(){return null}},hideActions:{type:Boolean,default:function(){return!1}},width:{type:String,default:function(){return"400px"}}},data:()=>({dialog:!1,closed:!1}),watch:{dialog(){this.dialog?(this.closed=!1,this.$emit("dialog-opened"),document.dispatchEvent(new CustomEvent("modalOpened"))):this.emitClosedEvent()}},methods:{ok(e){e&&(e.preventDefault(),e.stopPropagation()),this.$emit("ok"),this.close(e)},close(e){e&&(e.preventDefault(),e.stopPropagation()),this.$emit("closed"),this.$nextTick((()=>{this.dialog=!1,this.emitClosedEvent()}))},open(){this.dialog=!0,this.$emit("opened"),this.$nextTick((()=>this.dialog=!0))},emitClosedEvent(){this.closed||this.dialog||(this.closed=!0,this.$emit("dialog-closed"),document.dispatchEvent(new CustomEvent("modalClosed")))}}},x,[],!1,null,null,null).exports;var _=function(){var e=this,t=e._self._c;return e.retrieveExtraInformation?t("div",{staticClass:"d-flex flex-nowrap position-relative"},[e._l(e.usersToDisplay,(function(n){return t("exo-user-avatar",{key:n,attrs:{"profile-id":n.userName,size:e.iconSize,"extra-class":"mx-1",popover:e.popover,avatar:""}})})),e._v(" "),e.notDisplayedItems?t("v-avatar",{staticClass:"notDisplayedIdentitiesOverlay clickable",class:e.avatarOverlayPosition?"position-relative":"position-absolute",style:e.overlayStyle,attrs:{size:e.iconSize},on:{click:function(t){return e.$emit("open-detail")}}},[t("div",{staticClass:"notDisplayedIdentities d-flex align-center justify-center"},[e._v("\n      +"+e._s(e.notDisplayedItems)+"\n    ")])]):e._e()],2):t("div",{staticClass:"d-flex flex-nowrap position-relative"},[e._l(e.usersToDisplay,(function(n){return t("exo-user-avatar",{key:n,attrs:{identity:n,size:e.iconSize,"extra-class":"mx-1",popover:e.popover,avatar:""}})})),e._v(" "),e.notDisplayedItems?t("v-avatar",{staticClass:"notDisplayedIdentitiesOverlay clickable",class:e.avatarOverlayPosition?"position-relative":"position-absolute",style:e.overlayStyle,attrs:{size:e.iconSize},on:{click:function(t){return e.$emit("open-detail")}}},[t("div",{staticClass:"notDisplayedIdentities d-flex align-center justify-center"},[e._v("\n      +"+e._s(e.notDisplayedItems)+"\n    ")])]):e._e()],2)};_._withStripped=!0;const E=w({props:{users:{type:Object,default:()=>null},max:{type:Number,default:()=>0},defaultLength:{type:Number,default:()=>0},iconSize:{type:Number,default:()=>37},avatarOverlayPosition:{type:Boolean,default:()=>!1},popover:{type:Boolean,default:()=>!0},retrieveExtraInformation:{type:Boolean,default:()=>!1}},computed:{usersToDisplay(){return this.users&&this.users.slice(0,this.max)},notDisplayedItems(){return this.defaultLength?this.defaultLength>this.max?this.defaultLength-this.max:0:this.users&&this.users.length>this.max?this.users.length-this.max:0},overlayStyle(){return this.avatarOverlayPosition?"right: 0px !important":`right: ${this.iconSize+4}px !important`}}},_,[],!1,null,null,null).exports;var C=function(){var e=this,t=e._self._c;return e.popover?t("div",{directives:[{name:"identity-popover",rawName:"v-identity-popover",value:e.userIdentity,expression:"userIdentity"}],staticClass:"profile-popover user-wrapper",class:e.extraClass},[e.avatar?t("a",{staticClass:"flex-nowrap flex-grow-1 d-flex text-truncate container--fluid",class:e.avatarClass,attrs:{id:e.id,href:e.profileUrl}},[t("v-avatar",{staticClass:"ma-0",class:e.pullLeft,attrs:{size:e.size}},[t("img",{staticClass:"object-fit-cover ma-auto",attrs:{src:e.avatarUrl,loading:"lazy",role:"presentation"}})])],1):e.fullname?t("a",{staticClass:"d-flex align-start text-truncate",class:e.pullLeft,attrs:{id:e.id,href:e.profileUrl}},[e.userFullname?t("span",{staticClass:"text-truncate subtitle-2 my-auto",class:[e.fullnameStyle,e.linkStyle?"primary--text":""]},[e._v("\n      "+e._s(e.userFullname)+"\n      "),e.isExternal?t("span",{staticClass:"muted font-weight-regular"},[e._v(e._s(e.externalTag)+" ")]):e._e()]):e._e(),e._v(" "),e.$slots.subTitle?t("span",{staticClass:"text-sub-title text-truncate my-auto text-left"},[e._t("subTitle")],2):e._e()]):t("a",{staticClass:"d-flex flex-nowrap flex-grow-1 text-truncate container--fluid",class:e.itemsAlignStyle,attrs:{id:e.id,href:e.profileUrl}},[t("v-avatar",{staticClass:"ma-0",attrs:{size:e.size}},[t("img",{staticClass:"object-fit-cover ma-auto",attrs:{src:e.avatarUrl,loading:"lazy",role:"presentation"}})]),e._v(" "),e.userFullname||e.$slots.subTitle?t("div",{staticClass:"ms-2 overflow-hidden"},[e.userFullname?t("p",{staticClass:"text-truncate subtitle-2 text-left mb-0",class:[e.fullnameStyle,e.linkStyle?"primary--text":""]},[e._v("\n        "+e._s(e.userFullname)+"\n        "),e.isExternal?t("span",{staticClass:"muted font-weight-regular"},[e._v(e._s(e.externalTag)+" ")]):e._e()]):e._e(),e._v(" "),e.$slots.subTitle?t("p",{staticClass:"text-sub-title text-truncate text-left mb-0"},[e._t("subTitle")],2):e._e()]):e._e(),e._v(" "),e.$slots.actions?[e._t("actions")]:e._e()],2)]):t("div",{staticClass:"profile-popover user-wrapper",class:e.extraClass},[e.avatar?t("a",{staticClass:"flex-nowrap flex-grow-1 d-flex text-truncate container--fluid",class:e.avatarClass,attrs:{id:e.id,href:e.profileUrl}},[t("v-avatar",{staticClass:"ma-0",class:e.pullLeft,attrs:{size:e.size}},[t("img",{staticClass:"object-fit-cover ma-auto",attrs:{src:e.avatarUrl,loading:"lazy",role:"presentation"}})])],1):e.fullname?t("a",{staticClass:"d-flex align-start text-truncate",class:e.pullLeft,attrs:{id:e.id,href:e.profileUrl}},[e.userFullname?t("span",{staticClass:"text-truncate subtitle-2 my-auto",class:[e.fullnameStyle,e.linkStyle?"primary--text":""]},[e._v("\n      "+e._s(e.userFullname)+"\n      "),e.isExternal?t("span",{staticClass:"muted font-weight-regular"},[e._v(e._s(e.externalTag)+" ")]):e._e()]):e._e(),e._v(" "),e.$slots.subTitle?t("span",{staticClass:"text-sub-title text-truncate my-auto text-left"},[e._t("subTitle")],2):e._e()]):t("a",{staticClass:"d-flex flex-nowrap flex-grow-1 text-truncate container--fluid",class:e.itemsAlignStyle,attrs:{id:e.id,href:e.profileUrl}},[t("v-avatar",{staticClass:"ma-0",attrs:{size:e.size}},[t("img",{staticClass:"object-fit-cover ma-auto",attrs:{src:e.avatarUrl,loading:"lazy",role:"presentation"}})]),e._v(" "),e.userFullname||e.$slots.subTitle?t("div",{staticClass:"ms-2 overflow-hidden"},[e.userFullname?t("p",{staticClass:"text-truncate subtitle-2 text-left mb-0",class:[e.fullnameStyle,e.linkStyle?"primary--text":""]},[e._v("\n        "+e._s(e.userFullname)+"\n        "),e.isExternal?t("span",{staticClass:"muted font-weight-regular"},[e._v(e._s(e.externalTag)+" ")]):e._e()]):e._e(),e._v(" "),e.$slots.subTitle?t("p",{staticClass:"text-sub-title text-truncate text-left mb-0"},[e._t("subTitle")],2):e._e()]):e._e(),e._v(" "),e.$slots.actions?[e._t("actions")]:e._e()],2)])};C._withStripped=!0;const T=w({props:{identity:{type:Object,default:()=>null},profileId:{type:String,default:()=>null},avatar:{type:Boolean,default:()=>!1},fullname:{type:Boolean,default:()=>!1},boldTitle:{type:Boolean,default:()=>!1},linkStyle:{type:Boolean,default:()=>!1},smallFontSize:{type:Boolean,default:()=>!1},alignTop:{type:Boolean,default:()=>!1},popover:{type:Boolean,default:()=>!0},popoverLeftPosition:{type:Boolean,default:()=>!1},url:{type:Boolean,default:()=>!0},size:{type:Number,default:()=>37},extraClass:{type:String,default:()=>""},usernameClass:{type:String,default:()=>""},avatarClass:{type:String,default:()=>""},offsetX:{type:Boolean,default:()=>!1},offsetY:{type:Boolean,default:()=>!0}},data:()=>({id:`userAvatar${parseInt(1e4*Math.random()).toString().toString()}`,retrievedIdentity:null}),computed:{identityId(){return this.identity?.id||this.retrievedIdentity?.id},username(){return this.identity?.username||this.retrievedIdentity?.username||this.profileId},enabled(){return this.identity?.enabled||this.retrievedIdentity?.enabled},deleted(){return this.identity?.deleted||this.retrievedIdentity?.deleted},userFullname(){return this.identity?.fullname||this.retrievedIdentity?.fullname},position(){return this.identity?.position||this.retrievedIdentity?.position},avatarUrl(){return this.identity?.avatar||this.retrievedIdentity?.avatar||`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/users/${this.username?this.username:this.profileId}/avatar`},profileUrl(){return this.url?`${eXo.env.portal.context}/${eXo.env.portal.portalName}/profile/${this.username}`:null},isExternal(){return"true"===this.identity?.external||"true"===this.retrievedIdentity?.external},externalTag(){return`( ${this.$t("userAvatar.external.label")} )`},fullnameStyle(){return`${this.boldTitle?"font-weight-bold ":""}${this.smallFontSize?"caption ":""}`},itemsAlignStyle(){return this.alignTop?"align-start":"align-center"},isMobile(){return"xs"===this.$vuetify.breakpoint.name||"sm"===this.$vuetify.breakpoint.name},isCurrentUser(){return eXo.env.portal.userName!==this.username},params(){return{identityType:"USER_PROFILE",identityId:this.username}},userIdentity(){return{id:this.identityId,username:this.username,enabled:this.enabled,deleted:this.deleted,fullName:this.userFullname,position:this.position,avatar:this.avatarUrl,external:this.isExternal}},pullLeft(){return this.isMobile?" ":"pull-left"}},created(){this.profileId&&this.$userService.getUser(this.profileId).then((e=>this.retrievedIdentity=e))}},C,[],!1,null,null,null).exports;var I=function(){var e=this,t=e._self._c;return e.popover?t("div",{directives:[{name:"identity-popover",rawName:"v-identity-popover",value:e.space,expression:"space"}],staticClass:"profile-popover space-avatar-wrapper",class:e.extraClass},[e.notAccessibleSpace?t("a",{staticClass:"flex-nowrap flex-shrink-0 d-flex spaceAvatar not-clickable-link"},[e.avatar||!e.isMobile?t("v-avatar",{staticClass:"my-auto",class:e.pullLeft,attrs:{size:e.size,tile:""}},[t("img",{staticClass:"object-fit-cover ma-auto",attrs:{src:e.defaultAvatarUrl,loading:"lazy",role:"presentation"}})]):e._e(),e._v(" "),e.fullname||!e.isMobile?t("div",{staticClass:"pull-left text-truncate ms-2",class:e.subtitleNewLineClass},[t("p",{staticClass:"text-truncate subtitle-2 my-auto hidden-space"},[e._v("\n        "+e._s(e.$t("spacesList.label.hiddenSpace"))+"\n      ")])]):e._e()],1):e.avatar?t("a",e._g(e._b({staticClass:"flex-nowrap flex-shrink-0 d-flex spaceAvatar",attrs:{id:e.id,href:e.url}},"a",e.attrs,!1),e.on),[t("v-avatar",{staticClass:"my-auto",class:e.pullLeft,attrs:{size:e.size,tile:""}},[t("img",{staticClass:"object-fit-cover ma-auto",class:e.avatarClass,attrs:{src:e.avatarUrl,loading:"lazy",role:"presentation"}})])],1):e.fullname?t("a",e._g(e._b({staticClass:"flex-nowrap flex-shrink-0 d-flex spaceAvatar",attrs:{id:e.id,href:e.url}},"a",e.attrs,!1),e.on),[e.displayName||e.$slots.subTitle?t("div",{staticClass:"text-truncate ms-2",class:e.subtitleNewLineClass},[e.displayName?t("p",{staticClass:"text-truncate subtitle-2 my-auto",class:[e.fullnameStyle,e.linkStyle?"primary--text":""]},[e._v("\n        "+e._s(e.displayName)+"\n      ")]):e._e(),e._v(" "),e.$slots.subTitle?t("p",{staticClass:"text-sub-title my-auto"},[e._t("subTitle")],2):e._e()]):e._e()]):t("a",e._g(e._b({staticClass:"flex-nowrap flex-shrink-0 d-flex spaceAvatar",attrs:{id:e.id,href:e.url}},"a",e.attrs,!1),e.on),[t("v-avatar",{staticClass:"my-auto",class:e.pullLeft,attrs:{size:e.size,tile:""}},[t("img",{staticClass:"object-fit-cover ma-auto",class:e.avatarClass,attrs:{src:e.avatarUrl,loading:"lazy",role:"presentation"}})]),e._v(" "),e.displayName||e.$slots.subTitle?t("div",{staticClass:"text-truncate ms-2",class:e.subtitleNewLineClass},[e.displayName?t("p",{staticClass:"text-truncate subtitle-2 my-auto",class:[e.fullnameStyle,e.linkStyle?"primary--text":""]},[e._v("\n        "+e._s(e.displayName)+"\n      ")]):e._e(),e._v(" "),e.$slots.subTitle?t("p",{staticClass:"text-sub-title my-auto"},[e._t("subTitle")],2):e._e()]):e._e()],1)]):e._e()};I._withStripped=!0;const k=w({props:{space:{type:Object,default:()=>null},spacePrettyName:{type:String,default:()=>null},spaceId:{type:String,default:()=>null},avatar:{type:Boolean,default:()=>!1},fullname:{type:Boolean,default:()=>!1},boldTitle:{type:Boolean,default:()=>!1},linkStyle:{type:Boolean,default:()=>!1},smallFontSize:{type:Boolean,default:()=>!1},subtitleNewLine:{type:Boolean,default:()=>!1},size:{type:Number,default:()=>37},popover:{type:Boolean,default:()=>!0},popoverLeftPosition:{type:Boolean,default:()=>!1},extraClass:{type:String,default:()=>""}},data:()=>({id:`spaceAvatar${parseInt(1e4*Math.random()).toString().toString()}`}),computed:{displayName(){return this.space&&this.space.displayName},prettyName(){return this.space&&this.space.prettyName},groupId(){return this.space&&this.space.groupId},avatarUrl(){return this.space&&this.space.avatarUrl||`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/${this.prettyName}/avatar`},url(){if(!this.groupId)return"#";const e=this.groupId.replace(/\//g,":");return`${eXo.env.portal.context}/g/${e}/`},spaceMembersCount(){return this.space&&this.space.membersCount},spaceDescription(){return this.space&&this.space.description},fullnameStyle(){return`${this.boldTitle?"font-weight-bold ":""}${this.smallFontSize?"caption ":""}`},isMobile(){return"xs"===this.$vuetify.breakpoint.name||"sm"===this.$vuetify.breakpoint.name},notAccessibleSpace(){return this.space&&"hidden"===this.space.visibility&&!this.space.isMember},defaultAvatarUrl:()=>`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/default-image/avatar`,pullLeft(){return this.isMobile?" ":"pull-left"},subtitleNewLineClass(){return!this.subtitleNewLine&&`d-flex ${this.pullLeft}`||this.pullLeft}},created(){this.space||(this.spacePrettyName&&!this.spaceId?this.$spaceService.getSpaceByPrettyName(this.spacePrettyName).then((e=>{this.space=e})):this.spaceId&&this.$spaceService.getSpaceById(this.spaceId).then((e=>{this.space=e})))}},I,[],!1,null,null,null).exports;var X=function(){var e=this,t=e._self._c;return t("v-flex",{attrs:{id:e.id}},[t("v-autocomplete",{ref:"selectAutoComplete",staticClass:"identitySuggester",class:e.autocompleteClass,attrs:{label:e.labels.label,placeholder:e.labels.placeholder,disabled:e.disabled,loading:e.loadingSuggestions>0,rules:e.rules,multiple:e.multiple,required:e.required&&!e.value,items:e.items,height:e.height,filter:e.filterIgnoredItems,"hide-no-data":e.hideNoData,"prepend-inner-icon":e.prependInnerIcon,"append-icon":"","menu-props":"closeOnClick, closeOnContentClick, maxHeight = 100","content-class":"identitySuggesterContent",width:"100%","max-width":"100%","item-text":"profile.fullName","item-value":"id","return-object":"","persistent-hint":"","hide-selected":"",chips:"","cache-items":"",dense:"",flat:""},on:{"update:search-input":function(t){e.searchTerm=t}},scopedSlots:e._u([{key:"selection",fn:function({item:n,selected:i}){return[n.profile?t("v-chip",{staticClass:"identitySuggesterItem",attrs:{"input-value":i,close:!e.disabled},on:{"click:close":function(t){return e.remove(n)}}},[t("v-avatar",{attrs:{left:""}},[t("v-img",{attrs:{src:n.profile.avatarUrl,role:"presentation"}})],1),e._v(" "),t("span",{staticClass:"text-truncate"},[e._v("\n          "+e._s(n.profile.external?n.profile.fullName.concat(" (").concat(e.$t("userAvatar.external.label")).concat(")"):n.profile.fullName)+"\n        ")])],1):e._e()]}},{key:"item",fn:function(n){return[n.item&&n.item.profile&&n.item.profile.avatarUrl?t("v-list-item-avatar",{attrs:{size:"20"}},[t("v-img",{attrs:{src:n.item.profile.avatarUrl}})],1):e._e(),e._v(" "),t("v-list-item-title",{staticClass:"text-truncate identitySuggestionMenuItemText",style:e.menuItemStyle,domProps:{textContent:e._s(n.item.profile.fullName)}})]}}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[t("template",{slot:"no-data"},[t("v-list-item",{staticClass:"pa-0"},[e.displaySearchPlaceHolder?t("v-list-item-title",{staticClass:"px-2",style:e.menuItemStyle},[e._v("\n          "+e._s(e.labels.searchPlaceholder)+"\n        ")]):e.loadingSuggestions>0?t("v-list-item-title",{staticClass:"px-2",style:e.menuItemStyle},[e._v("\n          "+e._s(e.$t("Search.label.inProgress"))+"\n        ")]):e.labels.noDataLabel?t("v-list-item-title",{staticClass:"px-2",style:e.menuItemStyle},[e._v("\n          "+e._s(e.labels.noDataLabel)+"\n        ")]):e._e()],1)],1)],2)],1)};X._withStripped=!0;const O=w({props:{allGroupsForAdmin:{type:Boolean,default:!1},value:{type:Object,default:null},items:{type:Array,default:function(){return[]}},labels:{type:Object,default:()=>({label:"",placeholder:"",searchPlaceholder:"",noDataLabel:""})},includeUsers:{type:Boolean,default:function(){return!1}},includeSpaces:{type:Boolean,default:function(){return!1}},includeGroups:{type:Boolean,default:function(){return!1}},noRedactorSpace:{type:Boolean,default:function(){return!1}},onlyRedactor:{type:Boolean,default:function(){return!1}},onlyManager:{type:Boolean,default:function(){return!1}},disabled:{type:Boolean,default:function(){return!1}},multiple:{type:Boolean,default:function(){return!1}},required:{type:Boolean,default:function(){return!1}},ignoreItems:{type:Array,default:function(){return[]}},rules:{type:Array,default:function(){return[]}},height:{type:Number,default:function(){return null}},width:{type:String,default:function(){return null}},groupMember:{type:String,default:function(){return null}},groupType:{type:String,default:function(){return null}},typeOfRelations:{type:String,default:function(){return"mention_activity_stream"}},searchOptions:{type:Object,default:function(){return null}},filterStyle:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1}},data:()=>({id:`AutoComplete${parseInt(1e4*Math.random()).toString().toString()}`,previousSearchTerm:null,searchTerm:null,searchStarted:!1,loadingSuggestions:0,startSearchAfterInMilliseconds:300,endTypingKeywordTimeout:50,startTypingKeywordTimeout:0,typing:!1}),computed:{prependInnerIcon(){return this.filterStyle?"fa-filter":""},autocompleteClass(){return`${(this.required&&!this.value?"required-field invalid":this.required&&"required-field")||""} ${this.filterStyle?"identitySuggesterFilterStyle":"identitySuggesterInputStyle"}`},displaySearchPlaceHolder(){return this.labels.searchPlaceholder&&!this.searchStarted},hideNoData(){return!this.searchStarted&&0===this.items.length},menuItemStyle(){return this.width&&`width:${this.width}px;max-width:${this.width}px;min-width:${this.width}px;`||""}},watch:{loadingSuggestions(){this.loadingSuggestions>0&&!this.searchStarted&&(this.searchStarted=!0)},searchTerm(){this.startTypingKeywordTimeout=Date.now()+this.startSearchAfterInMilliseconds,this.typing||(this.typing=!0,this.waitForEndTyping())},value(){this.emitSelectedValue(this.value),this.init()}},mounted(){$(`#${this.id} input`).on("blur",(()=>{this.$refs.selectAutoComplete.isFocused=!1})),this.autofocus&&window.setTimeout((()=>{this.focus()}),200),this.init()},methods:{init(){this.value&&this.value.length?this.value.forEach((e=>{e.profile&&(this.items=this.value)})):this.value&&this.value.profile&&(this.items=this.value)},emitSelectedValue(e){this.$emit("input",e)},canAddItem(e){return!e||!e.id||this.ignoreItems.indexOf(e.id)<0},filterIgnoredItems(e,t,n){return!(t&&n.toLowerCase().indexOf(t.toLowerCase())<0)&&(!this.ignoreItems||!this.ignoreItems.length||this.canAddItem(e))},focus(){this.$refs.selectAutoComplete.focus()},clear(){this.items=[],this.value=null,this.loadingSuggestions=0},remove(e){if(this.value)if(this.value.splice){const t=this.value.findIndex((t=>t.id===e.id));t>=0&&this.value.splice(t,1)}else this.value=null;this.$emit("removeValue",e)},waitForEndTyping(){window.setTimeout((()=>{Date.now()>this.startTypingKeywordTimeout?(this.typing=!1,this.searchSpacesOrUsers()):this.waitForEndTyping()}),this.endTypingKeywordTimeout)},searchSpacesOrUsers(){this.searchTerm&&this.searchTerm.length?(this.focus(),this.previousSearchTerm&&this.previousSearchTerm===this.searchTerm||(this.loadingSuggestions=0,this.items=[],this.includeGroups?this.$suggesterService.search({term:this.searchTerm,items:this.items,typeOfRelations:this.typeOfRelations,searchOptions:this.searchOptions,includeUsers:this.includeUsers,includeSpaces:this.includeSpaces,includeGroups:this.includeGroups,onlyRedactor:this.onlyRedactor,groupMember:this.groupMember,allGroupsForAdmin:this.allGroupsForAdmin,groupType:this.groupType,noRedactorSpace:this.noRedactorSpace,onlyManager:this.onlyManager,loadingCallback:()=>this.loadingSuggestions++,successCallback:()=>{this.loadingSuggestions--},errorCallback:()=>{throw new Error("Response code indicates a server error")}}):this.$suggesterService.searchSpacesOrUsers(this.searchTerm,this.items,this.typeOfRelations,this.searchOptions,this.includeUsers,this.includeSpaces,this.onlyRedactor,this.noRedactorSpace,this.onlyManager,(()=>this.loadingSuggestions++),(()=>{this.loadingSuggestions--}))),this.previousSearchTerm=this.searchTerm):(this.items=[],this.searchStarted=!1)}}},X,[],!1,null,null,null).exports;var P=function(){var e=this,t=e._self._c;return t("div",{staticClass:"activityRichEditor newEditorToolbar"},[e.displayPlaceholder?t("div",{staticClass:"caption text-sub-title position-absolute t-0 pa-5 ma-1px full-width",on:{click:e.setFocus}},[e._v("\n    "+e._s(e.placeholder)+"\n  ")]):e._e(),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.inputVal,expression:"inputVal"}],ref:"editor",staticClass:"textarea",attrs:{id:e.ckEditorType,placeholder:e.placeholder,cols:"30",rows:"10"},domProps:{value:e.inputVal},on:{input:function(t){t.target.composing||(e.inputVal=t.target.value)}}}),e._v(" "),e.editorReady?e._e():t("v-progress-circular",{staticClass:"loadingRing position-absolute",attrs:{width:3,indeterminate:""}}),e._v(" "),t("div",{staticClass:"activityCharsCount",class:e.validLength?"":"tooManyChars",attrs:{"v-show":e.editorReady,id:e.buttonId}},[e._v("\n    "+e._s(e.charsCount)+e._s(e.maxLength>-1?" / "+e.maxLength:"")+"\n    "),t("i",{staticClass:"uiIconMessageLength"})])],1)};P._withStripped=!0;const L=w({props:{value:{type:String,default:""},placeholder:{type:String,default:""},maxLength:{type:Number,default:-1},ckEditorType:{type:String,default:"activityContent"},suggestorTypeOfRelation:{type:String,default:"mention_activity_stream"},suggesterSpaceURL:{type:String,default:eXo.env.portal.spaceUrl},activityId:{type:String,default:null},templateParams:{type:Object,default:()=>({})},autofocus:{type:Boolean,default:!1},useExtraPlugins:{type:Boolean,default:!1},useDraftManagement:{type:Boolean,default:!1},contextName:{type:String,default:null},tagEnabled:{type:Boolean,default:!0}},data:()=>({SMARTPHONE_LANDSCAPE_WIDTH:768,inputVal:null,editor:null,displayPlaceholder:!0,baseUrl:eXo.env.server.portalBaseURL}),computed:{buttonId(){return`btn_${this.ckEditorType}`},editorReady(){return this.editor&&"ready"===this.editor.status},charsCount(){return this.inputVal&&this.$utils.htmlToText(this.inputVal).length||0},validLength(){return this.charsCount<=this.maxLength},isMobile(){return"sm"===this.$vuetify.breakpoint.name||"xs"===this.$vuetify.breakpoint.name}},watch:{inputVal(e){this.computePlaceHolderVisibility(),this.editorReady&&this.$emit("input",e)},validLength(){this.$emit("validity-updated",this.validLength)},editorReady(){this.editorReady?(this.computePlaceHolderVisibility(),this.$emit("ready")):this.$emit("unloaded")},value(e){this.editor||this.initCKEditor();let t=null;try{t=this.editor.getData()}catch(e){}this.installOembedOriginalMessage(t),e!==t&&(this.initCKEditorData(e||""),this.installOembedOriginalMessage(e))}},mounted(){if(!this.value?.length&&this.useDraftManagement){const e=localStorage.getItem(`activity-message-${this.contextName}`),t=e&&JSON.parse(e)||{},n=t?.url===eXo.env.server.portalBaseURL&&t?.text||"";this.initCKEditor(!0,n),this.$emit("input",this.inputVal)}else this.initCKEditor(!0,this.value)},methods:{initCKEditor:function(e,t){if(this.inputVal=this.replaceWithSuggesterClass(t),this.editor=CKEDITOR.instances[this.ckEditorType],this.editor&&this.editor.destroy&&!this.ckEditorType.includes("editActivity")){if(!e)return this.initCKEditorData(t),void this.setEditorReady();this.editor.destroy(!0)}CKEDITOR.dtd.$removeEmpty.i=!1;let n="simpleLink,suggester,widget",i="image,maximize,resize";const r=[["Bold","Italic","BulletedList","NumberedList","Blockquote"]],s=$(window).width();s>$(window).height()&&s<this.SMARTPHONE_LANDSCAPE_WIDTH&&(n="simpleLink"),this.templateParams?n=`${n},embedsemantic,embedbase`:i=`${i},embedsemantic,embedbase`,this.tagEnabled?n=`${n},tagSuggester`:i=`${i},tagSuggester`,n=`${n},emoji,formatOption`,this.tagEnabled&&r[0].push("tagSuggester"),this.isMobile||r[0].push("emoji"),r[0].unshift("formatOption");const o=extensionRegistry.loadExtensions("ActivityComposer","ckeditor-extensions");o&&o.length&&this.useExtraPlugins&&o.forEach((e=>{e.extraPlugin&&(n=`${n},${e.extraPlugin}`),e.removePlugin&&(i=`${n},${e.removePlugin}`),e.extraToolbarItem&&r[0].push(e.extraToolbarItem)})),CKEDITOR.basePath="/commons-extension/ckeditor/";const a=this;$(this.$refs.editor).ckeditor({customConfig:"/commons-extension/ckeditorCustom/config.js",extraPlugins:n,removePlugins:i,toolbar:r,allowedContent:!0,enterMode:3,typeOfRelation:this.suggestorTypeOfRelation,spaceURL:this.suggesterSpaceURL,activityId:this.activityId,autoGrow_onStartup:!1,autoGrow_maxHeight:300,startupFocus:"end",pasteFilter:"p; a[!href]; strong; i",on:{instanceReady:function(){a.editor=CKEDITOR.instances[a.ckEditorType],$(a.editor.document.$).find(".atwho-inserted").each((function(){$(this).on("click",".remove",(function(){$(this).closest("[data-atwho-at-query]").remove()}))})),a.setEditorReady(),a.autofocus&&window.setTimeout((()=>a.setFocus()),50)},embedHandleResponse:function(e){a.installOembed(e)},requestCanceled:function(){a.cleanupOembed()},change:function(e){const t=e.editor.getData();a.inputVal=t,!a.activityId&&a.useDraftManagement&&a.contextName&&localStorage.setItem(`activity-message-${a.contextName}`,JSON.stringify({url:a.baseUrl,text:t}))},destroy:function(){a.inputVal="",a.editor=null}}})},destroyCKEditor:function(){this.editor&&this.editor.destroy(!0)},computePlaceHolderVisibility(){this.displayPlaceholder="ready"===this.editor?.status&&!this.inputVal&&!this.inputVal.trim()},replaceWithSuggesterClass:function(e){const t=$("<div class='temp'/>").html(e||"");return t.find('a[href*="/profile"]').each((function(){$(this).replaceWith((function(){return $("<span/>",{class:"atwho-inserted",html:`<span class="exo-mention">${$(this).text()}<a data-cke-survive href="#" class="remove"><i data-cke-survive class="uiIconClose uiIconLightGray"></i></a></span>`}).attr("data-atwho-at-query",`@${$(this).attr("href").substring($(this).attr("href").lastIndexOf("/")+1)}`).attr("data-atwho-at-value",$(this).attr("href").substring($(this).attr("href").lastIndexOf("/")+1)).attr("contenteditable","false")}))})),t.html()},initCKEditorData:function(e){this.inputVal=e&&this.replaceWithSuggesterClass(e)||"";try{this.editor&&this.editor.setData(this.inputVal)}catch(e){}},unload:function(){this.editor&&this.$set(this.editor,"status","not-ready")},setEditorReady:function(){window.setTimeout((()=>{this.$set(this.editor,"status","ready")}),200)},setFocus:function(){this.editorReady&&window.setTimeout((()=>{this.$nextTick().then((()=>this.editor.focus()))}),200)},getMessage:function(){return this.editor&&this.editor.getData()||""},installOembedOriginalMessage:function(e,t){if(t||e&&e.includes("<oembed")){if(e&&e.includes("<oembed")&&this.templateParams&&this.templateParams.link&&this.templateParams.default_title!==e){this.templateParams.default_title=e;const t=window.encodeURIComponent(e.substring(0,e.indexOf("<oembed>")));this.templateParams.comment=window.decodeURIComponent(t)}}else this.cleanupOembed()},installOembed:function(e){if(this.templateParams&&e){const t=e.data&&e.data.data,n=t&&t.response;n?(this.templateParams.link=n.url||"-",this.templateParams.image="video"!==n.type&&n.thumbnail_url||"-",this.templateParams.html="video"===n.type&&n.html||"-",this.templateParams.title=n.title||"-",this.templateParams.description=n.description||"-",this.templateParams.previewHeight=n.thumbnail_height||"-",this.templateParams.previewWidth=n.thumbnail_width||"-",window.setTimeout((()=>{this.installOembedOriginalMessage(this.message,!this.message||!this.message.includes("<oembed"))}),200)):this.cleanupOembed()}else e||this.cleanupOembed()},cleanupOembed:function(){this.templateParams&&(this.templateParams.image&&"-"!==this.templateParams.image||this.templateParams.html&&"-"!==this.templateParams.html)&&(this.templateParams.link="-",this.templateParams.html="-",this.templateParams.comment="-",this.templateParams.default_title="-",this.templateParams.image="-",this.templateParams.description="-",this.templateParams.title="-",this.templateParams.registeredKeysForProcessor="-")}}},P,[],!1,null,null,null).exports;var A=function(){var e=this,t=e._self._c;return t("v-flex",{staticClass:"datePickerComponent",attrs:{id:e.id}},[t("v-menu",{ref:"selectDateMenu",staticClass:"datePickerMenu",attrs:{"content-class":e.menuId,"close-on-content-click":!1,disabled:e.disabled,top:e.top,left:e.left,transition:"scale-transition",attach:e.attach,"allow-overflow":"","offset-y":"",eager:""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return t("input",e._g({directives:[{name:"model",rawName:"v-model",value:e.dateFormatted,expression:"dateFormatted"}],staticClass:"ignore-vuetify-classes datePickerText flex-grow-0",attrs:{disabled:e.disabled,placeholder:e.placeholder,required:e.required,readonly:"",type:"text"},domProps:{value:e.dateFormatted},on:{input:function(t){t.target.composing||(e.dateFormatted=t.target.value)}}},n))}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[e._v(" "),t("v-date-picker",{staticClass:"border-box-sizing",attrs:{"first-day-of-week":1,type:e.periodType,locale:e.lang,min:e.minDate,max:e.maxDate},on:{input:function(t){e.menu=!1}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[e.$slots.footer?[e._t("footer")]:e._e()],2)],1)],1)};A._withStripped=!0;const D=w({props:{placeholder:{type:String,default:function(){return null}},prependIcon:{type:String,default:function(){return"uiIconDatePicker"}},periodType:{type:String,default:function(){return"date"}},minValue:{type:String,default:function(){return null}},maxValue:{type:String,default:function(){return null}},value:{type:String,default:function(){return null}},minValueErrorMessage:{type:String,default:function(){return null}},lang:{type:String,default:function(){return eXo.env.portal.language}},disabled:{type:Boolean,default:function(){return!1}},required:{type:Boolean,default:function(){return!1}},returnIso:{type:Boolean,default:function(){return!1}},top:{type:Boolean,default:function(){return!1}},left:{type:Boolean,default:function(){return!1}},attach:{type:Boolean,default:function(){return!0}},format:{type:Object,default:function(){return{year:"numeric",month:"long",day:"numeric"}}},defaultValue:{type:Boolean,default:!0}},data:()=>({id:`DatePicker${parseInt(1e4*Math.random())}`,menuId:`DatePickerMenu${parseInt(1e4*Math.random())}`,date:null,dateFormatted:null,dateValue:null,menu:!1}),computed:{minDate(){if(this.minValue){const e=this.$dateUtil.getDateObjectFromString(this.minValue,!0);return this.$dateUtil.getISODate(e)}return null},maxDate(){if(this.maxValue){const e=this.$dateUtil.getDateObjectFromString(this.maxValue,!0);return this.$dateUtil.getISODate(e)}return null}},watch:{value(e,t){t!==e&&this.computeDate()},disabled(){this.emitDateValue()},date(){this.emitDateValue()}},mounted(){$(".datePickerComponent input").on("click",(e=>{e.target&&!$(e.target).parents(`#${this.id}`).length&&(this.menu=!1)})),$(document).on("click",(e=>{e.target&&!$(e.target).parents(`.${this.menuId}`).length&&(this.menu=!1)})),this.computeDate()},methods:{emitDateValue(){const e=this.date&&this.$dateUtil.getDateObjectFromString(this.date,!0)||null;this.disabled?this.dateValue=null:this.returnIso?this.dateValue=this.date:this.dateValue=e&&e.getTime()||null,this.dateValue?this.dateFormatted=this.$dateUtil.formatDateObjectToDisplay(e,this.format,this.lang):this.dateFormatted=null,this.$emit("input",this.dateValue)},computeDate(){if(this.value&&String(this.value).trim()){const e=this.$dateUtil.getDateObjectFromString(String(this.value).trim(),!0);this.date=this.$dateUtil.getISODate(e)}else this.defaultValue?this.date=this.$dateUtil.getISODate(new Date):this.date=null}}},A,[],!1,null,null,null).exports;var N=function(){var e=this,t=e._self._c;return t("select",{directives:[{name:"model",rawName:"v-model",value:e.timeValue,expression:"timeValue"}],staticClass:"width-auto my-auto ms-4 ignore-vuetify-classes",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.timeValue=t.target.multiple?n:n[0]}}},e._l(e.filteredTimeOptions,(function(n){return t("option",{key:n.value,domProps:{value:n.value}},[e._v("\n    "+e._s(n.text)+"\n  ")])})),0)};N._withStripped=!0;const R=w({props:{value:{type:Object,default:()=>new Date},min:{type:Object,default:null},intervalMinutes:{type:Number,default:15},lang:{type:String,default:function(){return eXo.env.portal.language}}},data:()=>({timeFormat:{hour:"2-digit",minute:"2-digit"},timeOptions:[],timeOptionsByValue:{},timeValue:"00:00",valueType:"date"}),computed:{filteredTimeOptions(){return this.timeOptions&&this.timeOptions.filter((e=>e.enabled))||[]},minTimeInMinutes(){if(!this.min)return 0;if("string"==typeof this.min&&5===this.min.length)return 60*Number(this.min.substring(0,2))+Number(this.min.substring(3,5));if("string"==typeof this.min&&this.min.length>5||"number"==typeof this.min||"object"==typeof this.min&&this.min.getTime){const e=new Date(this.min);if(!Number.isNaN(e.getTime()))return 60*e.getHours()+e.getMinutes()}return 0},minTimeValue(){const e=parseInt(this.minTimeInMinutes/60),t=this.minTimeInMinutes%60;return this.getTimeValue(e,t)}},watch:{minTimeValue(){this.computeOptions(),this.computeTimeValue()},value(){this.computeSelectedValue()},timeValue(e,t){if(e===t)return;if(!this.timeValue)return void this.$emit("input",null);const n=this.timeOptionsByValue[this.timeValue];if("date"===this.valueType){const e=new Date(this.value);e.setHours(n.hours),e.setMinutes(n.minutes),e.setSeconds(0),this.$emit("input",e)}else if("time"===this.valueType)this.$emit("input",this.timeValue);else if("datetime"===this.valueType){const e=new Date(this.value);e.setHours(n.hours),e.setMinutes(n.minutes),e.setSeconds(0),this.$emit("input",e.toLocaleString(this.lang))}else if("number"===this.valueType){const e=new Date(this.value);e.setHours(n.hours),e.setMinutes(n.minutes),e.setSeconds(0),this.$emit("input",e.getTime())}}},mounted(){this.computeOptions(),this.computeSelectedValue()},methods:{computeOptions(){this.timeOptions=[];for(let e=0;e<24;e++)for(let t=0;t<60;t++){const n=60*e+t;if(n%this.intervalMinutes==0){const i={value:this.getTimeValue(e,t),text:this.getTimeLabel(e,t),hours:e,minutes:t,enabled:this.minTimeInMinutes<=n};this.timeOptions.push(i),this.timeOptionsByValue[i.value]=i}}},computeSelectedValue(){this.value&&("string"==typeof this.value&&5===this.value.length?(this.valueType="time",this.timeValue=this.value):"string"==typeof this.value&&this.value.length>5?(this.valueType="datetime",this.timeValue=this.getTimeValueByDate(new Date(this.value))):"object"==typeof this.value&&this.value.getTime?(this.valueType="date",this.timeValue=this.getTimeValueByDate(this.value)):"number"==typeof this.value&&(this.valueType="number",this.timeValue=this.getTimeValueByDate(new Date(this.value)))),this.timeValue||(this.timeValue=this.getTimeValueByDate(new Date)),this.computeTimeValue()},computeTimeValue(){const e=this.timeOptionsByValue[this.timeValue];e&&!e.enabled&&(this.timeValue=this.minTimeValue),this.timeValue||(this.timeValue=this.minTimeValue)},getTimeValue(e,t){const n=new Date(2003,11,20,e,t);return this.getTimeValueByDate(n)},getTimeValueByDate(e){const t=parseInt((60*e.getHours()+e.getMinutes())/this.intervalMinutes)*this.intervalMinutes,n=t%60,i=parseInt(t/60);return e.setHours(i),e.setMinutes(n),this.$dateUtil.formatDateObjectToDisplay(e,this.timeFormat,"fr")},getTimeLabel(e,t){const n=new Date(2003,11,20,e,t);return this.$dateUtil.formatDateObjectToDisplay(n,this.timeFormat,this.lang)}}},N,[],!1,null,null,null).exports;var j=function(){var e=this;return(0,e._self._c)("div",[e._v(e._s(e.displayedDate))])};j._withStripped=!0;const U=w({props:{value:{type:Number,default:()=>0},lang:{type:String,default:function(){return eXo.env.portal.language}},format:{type:Object,default:function(){return{year:"numeric",month:"long",day:"numeric"}}}},computed:{displayedDate(){return this.value&&this.$dateUtil.formatDateObjectToDisplay(new Date(this.value),this.format,this.lang)||""}}},j,[],!1,null,null,null).exports;var M=function(){var e=this;return(0,e._self._c)("span",[e._v(e._s(e.relativeDateLabel))])};M._withStripped=!0;const V=w({props:{value:{type:Object,default:null},label:{type:String,default:null},short:{type:Boolean,default:!1}},computed:{date(){return this.value&&new Date(this.value)},relativeDateLabelKey(){return this.short?this.date&&this.$dateUtil.getShortRelativeTimeLabelKey(this.date)||"":this.date&&this.$dateUtil.getRelativeTimeLabelKey(this.date)||""},relativeDateLabelValue(){return this.short?this.date&&this.$dateUtil.getShortRelativeTimeValue(this.date)||1:this.date&&this.$dateUtil.getRelativeTimeValue(this.date)||1},relativeDateLabel(){const e=this.date&&this.$t(this.relativeDateLabelKey,{0:this.relativeDateLabelValue})||"";return this.label&&!this.short?this.$t(this.label,{0:e}):e}}},M,[],!1,null,null,null).exports;var B=function(){var e=this,t=e._self._c;return t("v-dialog",{attrs:{width:e.width,persistent:e.persistent,"content-class":"uiPopup","max-width":"100vw"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t("v-card",{staticClass:"elevation-12"},[t("div",{staticClass:"ignore-vuetify-classes popupHeader ClearFix"},[t("a",{staticClass:"uiIconClose pull-right",attrs:{"aria-hidden":"true"},on:{click:e.close}}),e._v(" "),t("span",{staticClass:"ignore-vuetify-classes PopupTitle popupTitle text-truncate",domProps:{innerHTML:e._s(e.title)}})]),e._v(" "),e._t("default"),e._v(" "),e.hideActions?e._e():t("v-card-actions",[t("v-spacer"),e._v(" "),e.okLabel?t("button",{staticClass:"ignore-vuetify-classes btn btn-primary me-2",attrs:{disabled:e.loading,loading:e.loading},on:{click:e.close}},[e._v("\n        "+e._s(e.okLabel)+"\n      ")]):e._e(),e._v(" "),t("v-spacer")],1)],2)],1)};B._withStripped=!0;const F=w({props:{title:{type:String,default:""},loading:{type:Boolean,default:function(){return!1}},okLabel:{type:String,default:function(){return"ok"}},hideActions:{type:Boolean,default:function(){return!1}},persistent:{type:Boolean,default:function(){return!1}},width:{type:String,default:function(){return"500px"}}},data:()=>({dialog:!1}),watch:{dialog(){this.dialog?(this.$emit("dialog-opened"),document.dispatchEvent(new CustomEvent("modalOpened"))):(this.$emit("dialog-closed"),document.dispatchEvent(new CustomEvent("modalClosed")))}},created(){$(document).on("keydown",(e=>{"Escape"===e.key&&(this.dialog=!1)}))},methods:{open(){this.dialog=!0},close(){this.dialog=!1}}},B,[],!1,null,null,null).exports;var z=function(){var e=this;return(0,e._self._c)("v-textarea",{staticClass:"extended-textarea",attrs:{rules:e.rules,"counter-value":e.counterValue,placeholder:e.placeholder,counter:"","auto-grow":"",rows:e.rows,"row-height":e.rowHeight},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})};z._withStripped=!0;const G=w({props:{value:{type:String,default:""},placeholder:{type:String,default:""},maxLength:{type:Number,default:()=>0},rows:{type:Number,default:()=>5},rowHeight:{type:Number,default:()=>24}},data:()=>({rules:[]}),computed:{limitMessageLabel(){return this.$t("textarea.limitMessage").replace("{0}",this.maxLength)}},watch:{value(){this.emitText()}},created(){this.rules=[e=>!e||e.length<=this.maxLength||this.limitMessageLabel]},methods:{counterValue(e){return`${e&&e.length||0} / ${this.maxLength}`},emitText(){this.$emit("input",this.value)}}},z,[],!1,null,null,null).exports;var H=function(){var e=this,t=e._self._c;return t("v-alert",{staticClass:"white",attrs:{type:e.alertType,"max-width":e.maxWidth,border:"left",elevation:"2",dismissible:"","colored-border":"",outlined:""},model:{value:e.displayAlert,callback:function(t){e.displayAlert=t},expression:"displayAlert"}},[t("span",{directives:[{name:"sanitized-html",rawName:"v-sanitized-html",value:e.alertMessage,expression:"alertMessage"}],staticClass:"text-color"}),e._v(" "),e._t("actions"),e._v(" "),e.alert&&e.alert.link?t("v-btn",{staticClass:"primary--text",class:e.alert.linkClass,attrs:{href:e.alert.link,target:"_blank",rel:"nofollow noreferrer noopener",text:""}},[e._v("\n    "+e._s(e.alert.linkMessage)+"\n  ")]):e._e(),e._v(" "),e.alert&&e.alert.click?t("v-btn",{staticClass:"primary--text",attrs:{text:""},on:{click:e.alert.click}},[e._v("\n    "+e._s(e.alert.clickMessage)+"\n  ")]):e._e()],2)};H._withStripped=!0;const J=w({props:{alert:{type:Object,default:null},noTimeout:{type:Boolean,default:!1}},data:()=>({displayAlert:!0}),computed:{alertMessage(){return this.alert&&this.alert.message},alertType(){return this.alert&&this.alert.type},isMobile(){return this.$vuetify&&this.$vuetify.breakpoint&&"xs"===this.$vuetify.breakpoint.name},maxWidth(){return this.isMobile?"100vw":"50vw"}},watch:{displayAlert(){this.displayAlert||this.$emit("dismissed")},alert(){this.alert?this.showAlert():this.$emit("dismissed")}},created(){if(!this.noTimeout){const e=5e3;window.setTimeout((()=>this.displayAlert=!1),e)}},methods:{showAlert(){if(!this.noTimeout){const e=5e3;this.displayAlert=!0,window.setTimeout((()=>this.$emit("dismissed")),e)}}}},H,[],!1,null,null,null).exports,q=w({render:function(e){return e(this.element||"div",{attrs:{id:this.id,class:this.elementClass||""}},[e(this.component.componentOptions.vueComponent,{props:this.params})])},props:{component:{type:Object,default:null},params:{type:Object,default:null},element:{type:String,default:()=>null},elementClass:{type:String,default:()=>""}},data:()=>({randomId:String(parseInt(1e5*Math.random())),mounted:!1}),computed:{id(){return`Ext${this.component.componentName}-${this.randomId}`}}},void 0,void 0,!1,null,null,null).exports;var W=function(){var e=this,t=e._self._c;return"ul"===e.parentElement&&e.isEnabled?t("ul",[e.$slots.header&&e.components.length?[e._t("header")]:e._e(),e._v(" "),e._l(e.components,(function(n,i){return[t("extension-registry-component",{key:n.componentOptions.id||n.componentOptions.componentName,attrs:{component:n,element:e.element,"element-class":e.elementClass,params:e.params}}),e._v(" "),e.$slots.separator&&i+1<e.components.length?[e._t("separator")]:e._e()]})),e._v(" "),e.$slots.footer&&e.components.length?[e._t("footer")]:e._e()],2):"li"===e.parentElement&&e.isEnabled?t("li",[e.$slots.header&&e.components.length?[e._t("header")]:e._e(),e._v(" "),e._l(e.components,(function(n,i){return[t("extension-registry-component",{key:n.componentOptions.id||n.componentOptions.componentName,attrs:{component:n,element:e.element,"element-class":e.elementClass,params:e.params}}),e._v(" "),e.$slots.separator&&i+1<e.components.length?[e._t("separator")]:e._e()]})),e._v(" "),e.$slots.footer&&e.components.length?[e._t("footer")]:e._e()],2):"span"===e.parentElement&&e.isEnabled?t("span",[e.$slots.header&&e.components.length?[e._t("header")]:e._e(),e._v(" "),e._l(e.components,(function(n,i){return[t("extension-registry-component",{key:n.componentOptions.id||n.componentOptions.componentName,attrs:{component:n,element:e.element,"element-class":e.elementClass,params:e.params}}),e._v(" "),e.$slots.separator&&i+1<e.components.length?[e._t("separator")]:e._e()]})),e._v(" "),e.$slots.footer&&e.components.length?[e._t("footer")]:e._e()],2):"a"===e.parentElement&&e.isEnabled?t("a",[e.$slots.header&&e.components.length?[e._t("header")]:e._e(),e._v(" "),e._l(e.components,(function(n,i){return[t("extension-registry-component",{key:n.componentOptions.id||n.componentOptions.componentName,attrs:{component:n,element:e.element,"element-class":e.elementClass,params:e.params}}),e._v(" "),e.$slots.separator&&i+1<e.components.length?[e._t("separator")]:e._e()]})),e._v(" "),e.$slots.footer&&e.components.length?[e._t("footer")]:e._e()],2):e.isEnabled?t("div",[e.$slots.header&&e.components.length?[e._t("header")]:e._e(),e._v(" "),e._l(e.components,(function(n,i){return[t("extension-registry-component",{key:n.componentOptions.id||n.componentOptions.componentName,attrs:{component:n,element:e.element,"element-class":e.elementClass,params:e.params}}),e._v(" "),e.$slots.separator&&i+1<e.components.length?[e._t("separator")]:e._e()]})),e._v(" "),e.$slots.footer&&e.components.length?[e._t("footer")]:e._e()],2):e._e()};W._withStripped=!0;const K={props:{name:{type:String,default:null},type:{type:String,default:null},parentElement:{type:Object,default:()=>null},element:{type:Object,default:()=>null},elementClass:{type:String,default:()=>""},params:{type:Object,default:null}},data:()=>({components:[]}),computed:{isEnabled(){return this.components.length}},created(){document.addEventListener(`component-${this.name}-${this.type}-updated`,(e=>{const t=e&&e.detail;if(t){const e=this.components.slice();this.registerComponent(t,e),this.components=e}}));const e=extensionRegistry.loadComponents(this.name),t=[];e.forEach((e=>{this.registerComponent(e,t)})),this.components=t},methods:{registerComponent(e,t){if(e.componentOptions.init){const n=e.componentOptions.init(this.params);if(n.then)return n.then((()=>this.addComponent(e,t)))}this.addComponent(e,t)},addComponent(e,t){if(!e.componentOptions.isEnabled||e.componentOptions.isEnabled(this.params)){const n=t.findIndex((t=>t.componentOptions.id===e.componentOptions.id));n>=0?t.splice(n,1,e):t.push(e),t.sort(this.sort)}},sort:(e,t)=>(e.componentOptions.rank||0)-(t.componentOptions.rank||0)}},Y=w(K,W,[],!1,null,null,null).exports,Z=w({render:function(e){return e(this.element||"div",this.$slots.default,this.children||this.child&&[e(this.child)]||null)},props:{element:{type:String,default:()=>null},children:{type:Array,default:()=>null},child:{type:Object,default:()=>null}}},void 0,void 0,!1,null,null,null).exports;var Q=function(){return(0,this._self._c)("input",{attrs:{type:"text"}})};Q._withStripped=!0;const ee=w({model:{prop:"selectedItems",event:"change"},props:{options:{type:Object,default:function(){return{}}},sourceProviders:{type:Array,default:()=>[]},selectedItems:{type:Array,default:()=>[]},boundGroups:{type:Array,default:()=>[]},secondDrawerSelectedGroups:{type:Array,default:()=>[]}},watch:{selectedItems(){this.$emit("change",this.selectedItems),this.bindSelectedItems()}},mounted(){const e=this,t={type:"tag",sourceProviders:[],plugins:["remove_button"],providers:{},onChange(t){e.selectedItems=t.split(",")}};this.sourceProviders.forEach((e=>{"function"==typeof e?(t.providers[e.name]=e,t.sourceProviders.push(e.name)):t.sourceProviders.push(e)}));const n=Object.assign({},t,this.options);$(this.$el).suggester(n),!0===n.fillSelectize&&this.fillSelectize()},methods:{bindSelectedItems(){const e=$(this.$el)[0].selectize;1!==this.selectedItems.length||this.selectedItems[0].startsWith("/")||this.selectedItems.shift();const t=[],n=[];e.items.forEach((e=>{this.selectedItems.includes(e)||t.push(e)})),t.forEach((t=>{e.removeItem(t,!0)})),this.selectedItems.forEach((t=>{t&&t.startsWith("/")&&!e.items.includes(t)&&n.push(t)})),n&&n.length>0&&n.forEach((e=>{this.addItem(e)}))},fillSelectize(){for(const e of this.boundGroups){const t=$(this.$el)[0].selectize;t.options[`${e}`]={avatarUrl:null,text:e,value:e,type:"group"},t.addItem(e)}},addItem(e){if(e&&!this.boundGroups.map((e=>e.group)).includes(e)){const t=$(this.$el)[0].selectize;if(!t.options[`${e}`]){const n=this.getGroup(e);t.options[`${e}`]={avatarUrl:null,text:n.name,value:n.id,type:"group"}}t.addItem(e)}},getGroup(e){return this.secondDrawerSelectedGroups.filter((t=>t.id===e))[0]}}},Q,[],!1,null,null,null).exports;var te=function(){var e=this,t=e._self._c;return t("div",{staticClass:"carousel-top-parent overflow-hidden position-relative"},[t("v-fab-transition",[t("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.displayLeftArrow,expression:"displayLeftArrow"}],staticClass:"absolute-vertical-center",attrs:{color:"while",width:"23px",height:"23px",fab:"",dark:"",absolute:"",left:"","x-small":""},on:{click:e.moveLeft}},[t("v-icon",{attrs:{size:"25"}},[e._v("fa-arrow-circle-left")])],1)],1),e._v(" "),t("v-card",{staticClass:"carousel-middle-parent scrollbar-width-none d-flex px-0 pb-4 pt-2 overflow-x-scroll",attrs:{flat:""},on:{scroll:e.computeProperties}},[t("div",{staticClass:"carousel-last-parent d-flex ma-auto",class:e.parentClass},[e._t("default")],2)]),e._v(" "),t("v-fab-transition",[t("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.displayRightArrow,expression:"displayRightArrow"}],staticClass:"absolute-vertical-center",attrs:{color:"while",width:"23px",height:"23px",fab:"",dark:"",absolute:"",right:"","x-small":""},on:{click:e.moveRight}},[t("v-icon",{attrs:{size:"25"}},[e._v("fa-arrow-circle-right")])],1)],1)],1)};te._withStripped=!0;const ne=w({props:{parentClass:{type:Object,default:null}},data:()=>({scrollElement:null,displayLeftArrow:!1,displayRightArrow:!1,childScrollIndex:0,visibleChildrenPerPage:1,computing:!1}),mounted(){this.scrollElement=this.$el&&this.$el.children&&this.$el.children.length>1&&this.$el.children[1],window.setTimeout((()=>{this.computeProperties()}),500),window.onresize=this.computeProperties},methods:{stopPropagation(e){e&&e.stopPropagation()},moveRight(){const e=this.scrollElement.firstChild.children,t=this.childScrollIndex+this.visibleChildrenPerPage;this.childScrollIndex=t>=e.length?e.length-1:t,this.scrollElement.scrollTo({left:e[this.childScrollIndex].offsetLeft-8,behavior:"smooth"})},moveLeft(){const e=this.scrollElement.firstChild.children,t=this.childScrollIndex-this.visibleChildrenPerPage;this.childScrollIndex=t<0?0:t,this.scrollElement.scrollTo({left:e[this.childScrollIndex].offsetLeft-8,behavior:"smooth"})},computeProperties(){this.computing||(this.computing=!0,window.setTimeout((()=>{const e=this.scrollElement.offsetWidth,t=this.scrollElement.firstChild.offsetWidth,n=this.scrollElement.firstChild.children,i=n.length;this.visibleChildrenPerPage=parseInt(e*i/t),this.displayLeftArrow=this.scrollElement&&i&&this.scrollElement.scrollLeft>n[0].offsetLeft,this.displayRightArrow=this.scrollElement&&this.scrollElement.scrollWidth-this.scrollElement.offsetWidth-this.scrollElement.scrollLeft>5,this.computing=!1}),200))}}},te,[],!1,null,null,null).exports;var ie=function(){var e=this._self._c;return e("v-app",[e("v-fade-transition",[e("v-overlay",{directives:[{name:"show",rawName:"v-show",value:this.overlay,expression:"overlay"}],attrs:{id:"drawers-overlay",absolute:""}})],1)],1)};ie._withStripped=!0;const re=w({data:()=>({openedModals:0,openedDrawers:0,uiPortalApplicationElement:null}),computed:{overlay(){return this.openedDrawers&&!this.openedModals}},mounted(){document.addEventListener("drawerOpened",this.showOverlay),document.addEventListener("drawerClosed",this.hideOverlay),document.addEventListener("modalOpened",this.modalOpened),document.addEventListener("modalClosed",this.modalClosed),document.onkeydown=this.closeDisplayedDrawer,document.querySelector("#drawers-overlay").onclick=this.closeDisplayedDrawerNoEvent,this.uiPortalApplicationElement=document.querySelector("#UIPortalApplication")},methods:{closeDisplayedDrawerNoEvent(){this.closeDisplayedDrawer()},closeDisplayedDrawer(e){!this.openedDrawers||e&&"Escape"!==e.key||document.dispatchEvent(new CustomEvent("closeDisplayedDrawer"))},showOverlay(){this.uiPortalApplicationElement.classList.add("decrease-z-index"),window.setTimeout((()=>{this.openedDrawers+=1}),10);const e=document.querySelector("#searchDialog");e&&(e.style.zIndex="revert")},hideOverlay(){this.openedDrawers>0&&(this.openedDrawers-=1),0===this.openedDrawers&&this.uiPortalApplicationElement.classList.remove("decrease-z-index");const e=document.querySelector("#searchDialog");e&&(e.style.zIndex="")},modalOpened(){this.openedModals+=1},modalClosed(){this.openedModals>0&&(this.openedModals-=1)}}},ie,[],!1,null,null,null).exports;var se=function(){var e=this,t=e._self._c;return t("exo-drawer",{ref:"activityShareDrawer",attrs:{right:""},on:{opened:function(t){e.opened=!0},closed:function(t){e.opened=!1}}},[t("template",{slot:"title"},[e._v("\n    "+e._s(e.$t("UIActivity.share.drawer.popupTitle"))+"\n  ")]),e._v(" "),t("template",{slot:"content"},[e.activityId?t("v-form",{ref:"activityShareFrom",staticClass:"flex mx-4",attrs:{flat:""}},[t("div",{staticClass:"d-flex flex-column flex-grow-1"},[t("div",{staticClass:"d-flex flex-row"},[t("span",{staticClass:"mt-4 mb-2"},[e._v(e._s(e.$t("UIActivity.share.shareInSpaces"))+" ")])]),e._v(" "),t("div",{staticClass:"d-flex flex-row flex-grow-1 activitySpaceSuggester"},[t("exo-identity-suggester",{ref:"activitySpaceSuggester",staticClass:"space-suggester activitySpaceAutocomplete",attrs:{labels:e.spaceSuggesterLabels,"include-users":!1,width:220,name:"activitySpaceAutocomplete","include-spaces":"",multiple:"","only-redactor":"",autofocus:""},model:{value:e.spaces,callback:function(t){e.spaces=t},expression:"spaces"}})],1),e._v(" "),t("div",{staticClass:"d-flex flex-row"},[t("exo-activity-rich-editor",{ref:"activityShareMessage",staticClass:"flex",attrs:{"template-params":e.templateParams,"max-length":e.MESSAGE_MAX_LENGTH,placeholder:e.$t("UIActivity.share.sharedActivityPlaceholder"),"ck-editor-type":"activityShare"},on:{"validity-updated":function(t){e.validInput=t}},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),e._v(" "),t("div",{staticClass:"d-flex flex-row mt-4"},[t("v-icon",{staticClass:"warning--text"},[e._v("warning")]),e._v(" "),t("span",{staticClass:"ms-2 grey--text"},[e._v("\n            "+e._s(e.$t("UIActivity.share.warnMessage"))+"\n          ")])],1)])]):e._e()],1),e._v(" "),t("template",{slot:"footer"},[t("div",{staticClass:"d-flex justify-end"},[t("v-btn",{staticClass:"btn me-2",attrs:{"aria-label":e.$t("Confirmation.label.Cancel")},on:{click:e.close}},[e._v("\n        "+e._s(e.$t("Confirmation.label.Cancel"))+"\n      ")]),e._v(" "),t("v-btn",{staticClass:"btn btn-primary me-2",attrs:{loading:e.sharing,disabled:e.buttonDisabled,"aria-label":e.$t("UIActivity.share")},on:{click:e.shareActivity}},[e._v("\n        "+e._s(e.$t("UIActivity.share"))+"\n      ")])],1)])],2)};se._withStripped=!0;const oe=w({data:()=>({MESSAGE_MAX_LENGTH:1250,opened:!1,sharing:!1,validInput:!0,description:"",activityId:null,currentApp:"",spaces:[]}),computed:{buttonDisabled(){return!this.activityId||!this.validInput||this.sharing||!this.spaces||!this.spaces.filter((e=>e)).length},spaceSuggesterLabels(){return{searchPlaceholder:this.$t("UIActivity.share.spaces.searchPlaceholder"),placeholder:this.$t("UIActivity.share.spaces.placeholder"),noDataLabel:this.$t("UIActivity.share.spaces.noDataLabel")}}},created(){this.$root.$on("activity-share-drawer-open",this.open)},methods:{clear(){this.activityId=null,this.spaces=[],this.templateParams={},this.description="",this.sharing=!1},open(e,t){this.activityId=e,this.currentApp=t,this.activityId&&this.$refs.activityShareDrawer.open()},close(){this.$refs.activityShareDrawer.close()},shareActivity(){const e=this.spaces.map((e=>e.remoteId));this.sharing=!0,this.$activityService.shareActivity(this.activityId,this.description,this.templateParams,e).then((()=>{this.$root.$emit("activity-shared",this.activityId,this.spaces.map((e=>({prettyName:e.remoteId,displayName:e&&e.profile&&e.profile.fullName,avatarUrl:e&&e.profile&&e.profile.avatarUrl}))),this.currentApp),this.close(),this.clear()})).finally((()=>this.sharing=!1))}}},se,[],!1,null,null,null).exports;var ae=function(){var e=this,t=e._self._c;return t("div",{class:!e.displayLabel&&"d-inline-flex"},[t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([e.displayLabel?{key:"activator",fn:function({on:n,attrs:i}){return[t("v-list-item",e._g(e._b({on:{click:e.changeFavorite}},"v-list-item",i,!1),n),[t("v-icon",{staticClass:"mr-3",class:e.favoriteIconColor,attrs:{size:"16"}},[e._v("\n          "+e._s(e.favoriteIcon)+"\n        ")]),e._v(" "),t("span",{staticClass:"text-color mt-1",class:e.extraClass},[e._v(e._s(e.favoriteLabel))])],1)]}}:{key:"activator",fn:function({on:n,attrs:i}){return[t("v-btn",e._g(e._b({staticClass:"pa-0 mt-0",style:e.buttonStyle,attrs:{id:`FavoriteLink_${e.type}_${e.id}`,loading:e.loading,disabled:e.loading,icon:"",small:e.small},on:{click:e.changeFavorite}},"v-btn",i,!1),n),[t("div",{staticClass:"d-flex flex-lg-row flex-column"},[t("v-icon",{staticClass:"mx-auto",class:e.favoriteIconColor,attrs:{size:"16"}},[e._v("\n            "+e._s(e.favoriteIcon)+"\n          ")])],1)])]}}],null,!0)},[e._v(" "),t("span",[e._v("\n      "+e._s(e.favoriteTooltip)+"\n    ")])])],1)};ae._withStripped=!0;const le=w({props:{type:{type:String,default:null},typeLabel:{type:String,default:null},entityType:{type:String,default:null},id:{type:String,default:null},parentId:{type:String,default:null},spaceId:{type:String,default:null},favorite:{type:Boolean,default:!1},absolute:{type:Boolean,default:!1},top:{type:Number,default:()=>0},right:{type:Number,default:()=>0},small:{type:Boolean,default:!0},displayLabel:{type:Boolean,default:!1},extraClass:{type:String,default:()=>""}},data:()=>({isFavorite:!1,loading:!1}),computed:{buttonStyle(){return this.absolute?this.$vuetify.rtl?{position:"absolute",top:`${this.top}px`,left:`${this.right}px`}:{position:"absolute",top:`${this.top}px`,right:`${this.right}px`}:""},favoriteTooltip(){return this.isFavorite&&this.$t("Favorite.tooltip.DeleteFavorite")||this.$t("Favorite.tooltip.AddAsFavorite")},favoriteIconColor(){return this.isFavorite?"yellow--text text--darken-2 ml-n2px":"icon-default-color"},favoriteIcon(){return this.isFavorite?"fas fa-star":"far fa-star"},favoriteLabel(){return this.isFavorite&&this.$t("Favorite.tooltip.unBookmark")||this.$t("Favorite.tooltip.bookmark")}},watch:{favorite:{immediate:!0,handler(e){this.isFavorite=e}}},created(){document.addEventListener("metadata.favorite.updated",this.favoriteUpdated)},destroyed(){document.removeEventListener("metadata.favorite.updated",this.favoriteUpdated)},methods:{favoriteUpdated(e){const t=e&&e.detail;t&&t.objectType===this.type&&t.objectId===this.id&&t.favorite!==this.isFavorite&&(this.isFavorite=t.favorite)},updateFavorite(){document.dispatchEvent(new CustomEvent("metadata.favorite.updated",{detail:{objectType:this.type,objectId:this.id,favorite:this.isFavorite}}))},changeFavorite(e){e&&(e.stopPropagation(),e.preventDefault()),this.loading=!0,this.isFavorite?this.$favoriteService.removeFavorite(this.type,this.id).then((()=>{document.dispatchEvent(new CustomEvent("favorite-removed",{detail:{type:this.type,typeLabel:this.typeLabel,id:this.id,spaceId:this.spaceId,entityType:this.entityType}})),this.isFavorite=!1,this.$emit("removed"),this.updateFavorite()})).catch((()=>this.$emit("remove-error"))).finally((()=>this.loading=!1)):this.$favoriteService.addFavorite(this.type,this.id,this.parentId,this.spaceId).then((()=>{document.dispatchEvent(new CustomEvent("favorite-added",{detail:{type:this.type,typeLabel:this.typeLabel,id:this.id,spaceId:this.spaceId,entityType:this.entityType}})),this.isFavorite=!0,this.$emit("added"),this.updateFavorite()})).catch((()=>this.$emit("add-error"))).finally((()=>this.loading=!1))}}},ae,[],!1,null,null,null).exports;var ce=function(){var e=this,t=e._self._c;return t("v-app",{staticClass:"border-box-sizing transparent",attrs:{flat:""}},[t("v-dialog",{attrs:{"content-class":"rounded-lg","overlay-opacity":"0.7",width:"500"},on:{"click:outside":function(t){e.dialog=!1}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t("v-card",{staticClass:"pb-4"},[t("v-card-title",{staticClass:"text-h5 font-weight-bold dark-grey-color pb-6"},[e._v("\n        "+e._s(e.$t("changes.reminder.WhatNew"))+"\n        "),t("v-spacer"),e._v(" "),t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:i}){return[t("div",e._g(e._b({},"div",i,!1),n),[t("v-btn",{attrs:{icon:""},on:{click:function(t){e.dialog=!1}}},[t("v-icon",{attrs:{size:"18"}},[e._v("mdi-close")])],1)],1)]}}])},[e._v(" "),t("span",[e._v("\n            "+e._s(e.$t("label.close"))+"\n          ")])])],1),e._v(" "),t("v-card-text",[t("img",{attrs:{src:e.reminder.img}})]),e._v(" "),t("v-card-text",{staticClass:"text-subtitle-1 font-weight-bold dark-grey-color"},[e._v(e._s(e.reminder.title))]),e._v(" "),t("v-card-text",[e._v("\n        "+e._s(e.reminder.description)+"\n      ")]),e._v(" "),t("v-card-actions",{staticClass:"pe-6"},[t("v-spacer"),e._v(" "),t("v-btn",{staticClass:"primary--text text-subtitle-1 font-weight-bold",attrs:{text:""},on:{click:e.doNotRemindMe}},[e._v("\n          "+e._s(e.$t("changes.reminder.doNotRemind"))+"\n        ")])],1)],1)],1)],1)};ce._withStripped=!0;const de=w({props:{reminder:{type:Object,default:()=>({})}},data:()=>({dialog:!1}),created(){document.addEventListener("changes-reminder-open",(()=>this.getReminderStatus()))},methods:{getReminderStatus(){return this.$featureService.isFeatureEnabled(this.reminder.name).then((e=>{this.dialog=e}))},doNotRemindMe(){this.$settingService.setSettingValue("USER",eXo.env.portal.userName,"APPLICATION","changesReminder",this.reminder.name,!0).then((()=>{this.dialog=!1}))}}},ce,[],!1,null,null,null).exports;var pe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"position-relative unread-activity",on:{click:e.markAsRead}},[t("v-scale-transition",[t("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.displayBadge,expression:"displayBadge"}],staticClass:"unread-activity-badge",style:`z-index: ${e.zIndex};`,attrs:{absolute:"",icon:"",height:"20",width:"20",text:""}},[t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:i}){return[t("div",e._g(e._b({staticClass:"unread-activity-badge"},"div",i,!1),n))]}}])},[e._v(" "),t("span",[e._v(e._s(e.$t("Unread.clickTooltip")))])])],1)],1),e._v(" "),e._t("default")],2)};pe._withStripped=!0;const ue=w({props:{unreadMetadata:{type:Object,default:null},spaceId:{type:String,default:null},zIndex:{type:Number,default:()=>1}},data:()=>({textLength:0,textPosition:null,windowHeight:window.innerHeight||document.documentElement?.clientHeight,streamHeight:null,isReading:!1,displayTimeout:!1,computeTimeout:!1,isPageHidden:!1}),computed:{isUnread(){return!!this.unreadMetadata},displayBadge(){return this.spaceId&&this.isUnread},waitTimeToMarkAsRead(){return Math.max(parseInt(this.textLength/100*5e3)-1e3,4e3)},applicationName(){return this.unreadMetadata?.objectType},applicationId(){return this.unreadMetadata?.objectId}},watch:{displayBadge(){this.displayBadge?(this.countText(),this.computePagePosition(),this.installBodyScrollListener()):this.uninstallBodyScrollListener(),this.computeIsReading()},isPageHidden(){this.computeIsReading()},isReading(e,t){e&&!t?this.displayTimeout=window.setTimeout((()=>{this.computeIsReading()&&this.markAsRead()}),this.waitTimeToMarkAsRead):this.displayTimeout&&(window.clearTimeout(this.displayTimeout),this.displayTimeout=!1,this.computeTimeout=!1)}},mounted(){document.addEventListener("notification.unread.item",this.handleUpdatesFromWebSocket),document.addEventListener("notification.read.item",this.handleUpdatesFromWebSocket),document.addEventListener("notification.read.allItems",this.handleUpdatesFromWebSocket)},beforeDestroy(){document.removeEventListener("notification.unread.item",this.handleUpdatesFromWebSocket),document.removeEventListener("notification.read.item",this.handleUpdatesFromWebSocket),document.removeEventListener("notification.read.allItems",this.handleUpdatesFromWebSocket)},methods:{installBodyScrollListener(){document.querySelector("#UISiteBody").addEventListener("scroll",this.computePagePosition,!1),document.addEventListener("visibilitychange",this.computeIsPageHidden,!1)},uninstallBodyScrollListener(){document.querySelector("#UISiteBody").removeEventListener("scroll",this.computePagePosition,!1),document.removeEventListener("visibilitychange",this.computeIsPageHidden,!1)},handleUpdatesFromWebSocket(e){const t=e?.detail,n=t?.wsEventName||"";let i=t?.message?.spaceWebNotificationItem||t?.message?.spacewebnotificationitem;i?.length&&(i=JSON.parse(i));const r=i?.applicationName,s=i?.applicationItemId,o=i?.spaceId;Number(this.spaceId)===Number(o)&&("notification.read.allItems"===n?this.$emit("read"):r===this.applicationName&&s===this.applicationId&&("notification.unread.item"===n?this.$emit("unread"):"notification.read.item"===n&&this.$emit("read")))},countText(){this.displayBadge&&(this.textLength=this.$el?.innerText.replace(/[\n\r\t ]/g,"").length||0)},computePagePosition(){this.displayBadge&&!this.computeTimeout&&(this.computeTimeout=window.setTimeout((()=>{this.textPosition=this.$el?.getBoundingClientRect(),this.streamHeight||(this.streamHeight=this.windowHeight-100),this.computeIsPageHidden(),this.computeIsReading(),this.computeTimeout=!1}),1e3))},computeIsReading(){return this.isReading=this.displayBadge&&this.textPosition&&!this.isPageHidden&&(this.textPosition.top>=200&&this.textPosition.top<=this.streamHeight||this.textPosition.bottom>=200&&this.textPosition.bottom<=this.streamHeight||this.textPosition.top<=200&&this.textPosition.bottom>=this.streamHeight)||!1,this.isReading},computeIsPageHidden(){this.isPageHidden=document.hidden||document.msHidden||document.webkitHidden||document.mozHidden},markAsRead(e){this.displayBadge&&this.$spaceService.markAsRead(this.spaceId,this.applicationName,this.applicationId,e?.type?"click":"read")}}},pe,[],!1,null,null,null).exports;var he=function(){var e=this,t=e._self._c;return e.snackbar?t("v-snackbar",{attrs:{left:!e.$vuetify.rtl,right:e.$vuetify.rtl,timeout:e.timeout,color:"transparent",elevation:"0",app:""},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[t("v-alert",{staticClass:"white position-relative",attrs:{type:e.alertType,"max-width":e.maxWidth,border:"left",elevation:"2",light:"",outlined:"",dismissible:"","colored-border":""},on:{input:e.closeAlertIfDismissed}},[t("div",{staticClass:"d-flex flex-nowrap align-center full-width"},[e.useHtml?t("span",{directives:[{name:"sanitized-html",rawName:"v-sanitized-html",value:e.alertMessage,expression:"alertMessage"}],staticClass:"text--lighten-1 flex-grow-1 pe-4",on:{click:e.handleAlertClicked}}):t("span",{staticClass:"text--lighten-1 flex-grow-1 pe-4"},[e._v("\n        "+e._s(e.alertMessage)+"\n      ")]),e._v(" "),e.alertLink||e.alertLinkCallback?t("v-btn",{staticClass:"secondary--text",attrs:{href:e.alertLink,title:e.alertLinkTooltip,name:"closeSnackbarButton",target:"_blank",rel:"nofollow noreferrer noopener",icon:"",link:""},on:{click:e.linkCallback}},[t("v-icon",[e._v(e._s(e.alertLinkIcon))])],1):e._e()],1)])],1):e._e()};he._withStripped=!0;const me={"card-carousel":ne,"exo-user-avatars-list":E,"exo-user-avatar":T,"exo-space-avatar":k,"exo-drawer":b,"activity-share-drawer":oe,"drawers-overlay":re,"exo-confirm-dialog":S,"exo-identity-suggester":O,"exo-activity-rich-editor":L,"date-picker":D,"time-picker":R,"date-format":U,"relative-date-format":V,"exo-modal":F,"extended-textarea":G,"exo-notification-alert":J,"extension-registry-component":q,"extension-registry-components":Y,"dynamic-html-element":Z,"exo-group-suggester":ee,"favorite-button":le,"changes-reminder":de,"unread-badge":ue,"alert-notifications":w({data:()=>({snackbar:!1,timeout:1e4,alertMessage:null,useHtml:!1,alertType:null,alertLink:null,alertLinkCallback:null,alertLinkIcon:null,alertLinkTooltip:null,timeoutInstance:null,maxIconsSize:"20px"}),computed:{isMobile(){return"sm"===this.$vuetify.breakpoint.name||"xs"===this.$vuetify.breakpoint.name},dark(){return this.$vuetify.theme.dark},maxWidth(){return this.isMobile?"100vw":"50vw"}},created(){document.addEventListener("alert-message",(e=>{const t=e?.detail;t&&this.openAlert(t)})),document.addEventListener("alert-message-html",(e=>{const t=e?.detail&&Object.assign({useHtml:!0},e?.detail);t&&this.openAlert(t)})),document.addEventListener("close-alert-message",(()=>{this.closeAlert()})),this.$root.$on("alert-message",((e,t,n,i,r)=>{this.openAlert({alertType:t,alertMessage:e,alertLinkCallback:n,alertLinkIcon:i,alertLinkTooltip:r})})),this.$root.$on("alert-message-html",((e,t,n,i,r)=>{this.openAlert({useHtml:!0,alertType:t,alertMessage:e,alertLinkCallback:n,alertLinkIcon:i,alertLinkTooltip:r})})),this.$root.$on("close-alert-message",this.closeAlert)},methods:{openAlert(e){this.closeAlert(),this.$nextTick().then((()=>{this.useHtml=e.useHtml||!1,this.alertLink=e.alertLink||null,this.alertMessage=e.alertMessage||null,this.alertLinkIcon=e.alertLinkIcon||null,this.alertType=e.alertType||"info",this.alertLinkTooltip=e.alertLinkTooltip||null,this.alertLinkCallback=e.alertLinkCallback||null,this.timeoutInstance=window.setTimeout((()=>this.snackbar=!0),500)}))},closeAlertIfDismissed(e){e||this.closeAlert()},closeAlert(){this.timeoutInstance&&window.clearTimeout(this.timeoutInstance),this.snackbar=!1},linkCallback(){this.alertLinkCallback&&this.alertLinkCallback()},cancelEvent(e){e&&(e.stopPropagation(),e.preventDefault())},handleAlertClicked(e){e&&(e.stopPropagation(),e.preventDefault()),e&&"a"!==e?.target?.tagName?.toLowerCase()||this.linkCallback()}}},he,[],!1,null,null,null).exports};for(const e in me)Vue.component(e,me[e]);function ve(e,t){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/users/${e}?expand=${t||""}`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function fe(){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/users/isSuperUser`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function ge(){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/users/isDelegatedAdministrator`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function ye(){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/users/isSynchronizedUserAllowedToChangePassword`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function $e(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/users/email/${e}`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function we(e,t,n,i,r,s){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/users?q=${e||""}&offset=${t||0}&limit=${n||0}&expand=${i||""}&returnSize=true&excludeCurrentUser=${s||!1}`,{method:"GET",credentials:"include",signal:r}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function be(e,t,n,i,r,s){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/users/advancedfilter?offset=${t||0}&limit=${n||0}&expand=${i||""}&filterType=${r||"all"}&returnSize=true`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",signal:s,body:JSON.stringify(e)}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function xe(e,t,n,i){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/users?q=${e||""}&offset=${t||0}&limit=${n||0}&status=${i||"ENABLED"}&returnSize=true`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function Se(e,t,n,i,r){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/users/${eXo.env.portal.userName}/connections?q=${e||""}&offset=${t||0}&limit=${n||0}&expand=${i||""}&returnSize=true`,{method:"GET",credentials:"include",signal:r}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function _e(e,t,n){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/users/connections/invitations?offset=${e||0}&limit=${t||0}&expand=${n||""}&returnSize=true`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function Ee(e,t,n){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/users/connections/pending?offset=${e||0}&limit=${t||0}&expand=${n||""}&returnSize=true`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function Ce(){const e=sessionStorage&&sessionStorage.getItem(`Suggestions_Users_${eXo.env.server.sessionId}`);return e?Promise.resolve(JSON.parse(e)):fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/homepage/intranet/people/contacts/suggestions`,{credentials:"include"}).then((e=>e&&e.ok?e.json():e.text().then((e=>{throw new Error(e)})))).then((e=>{if(sessionStorage&&e)try{sessionStorage.setItem(`Suggestions_Users_${eXo.env.server.sessionId}`,JSON.stringify(e))}catch(e){}return e}))}function Te(e){return sessionStorage&&sessionStorage.removeItem(`Suggestions_Users_${eXo.env.server.sessionId}`),fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/relationships`,{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({sender:eXo.env.portal.userName,receiver:e,status:"PENDING"})}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function Ie(e){return sessionStorage&&sessionStorage.removeItem(`Suggestions_Users_${eXo.env.server.sessionId}`),fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/relationships`,{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({sender:e,receiver:eXo.env.portal.userName,status:"CONFIRMED"})}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function ke(e){sessionStorage&&sessionStorage.removeItem(`Suggestions_Users_${eXo.env.server.sessionId}`);const t=eXo.env.portal.userName;return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/relationships`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:JSON.stringify({sender:t,receiver:e,status:"IGNORED"})}).then((e=>e&&e.ok?e.json():e.text().then((e=>{throw new Error(e)}))))}function Xe(e){return sessionStorage&&sessionStorage.removeItem(`Suggestions_Users_${eXo.env.server.sessionId}`),fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/relationships`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({sender:e,receiver:eXo.env.portal.userName})}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function Oe(e,t,n){const i=new FormData,r=n||"DEFAULT_BANNER";return i.append("name",t),i.append("value",r),fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/users/${e}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(i).toString()}).then((e=>{if(!e||!e.ok)return e.text()})).then((e=>{if(e)throw new Error(e)}))}function Pe(e,t,n){const i={};for(const e in n)i[n[e]]=t[n[e]];return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/users/${e}/profile`,{method:"PATCH",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)}).then((e=>{if(!e||!e.ok)return e.text()})).then((e=>{if(e)throw new Error(e)}))}function Le(e,t,n){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/users/${e}/changePassword`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`currentPassword=${t}&newPassword=${n}`}).then((e=>{if(!e||!e.ok)return e.text()})).then((e=>{if(e)throw new Error(e)}))}function Ae(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/users/csv`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`uploadId=${e}`}).then((e=>{if(!e||!e.ok)return e.text()})).then((e=>{if(e)throw new Error(e)}))}function De(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/users/csv`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`uploadId=${e}&progress=true`}).then((e=>e&&e.ok?e.json():e.text())).then((e=>{if("string"==typeof e)throw new Error(e);return e}))}function Ne(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/users/csv`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`uploadId=${e}&clean=true`}).then((e=>e&&e.ok?e.json():e.text())).then((e=>{if("string"==typeof e)throw new Error(e);return e}))}function Re(e,t){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/users/bulk/${e}`,{headers:{"Content-Type":"application/json"},credentials:"include",method:"PATCH",body:JSON.stringify(t)}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Error when updating users")}))}document.addEventListener("readystatechange",(function(e){eXo.env.portal.onLoad&&("interactive"===e.target.readyState?(eXo.developing&&console.warn('Document "interactive" loading started, load deferred applications'),eXo.env.portal.onLoadCalled=!0,eXo.env.portal.onLoad()):"complete"===e.target.readyState&&(eXo.env.portal.onLoadCalled||(eXo.env.portal.onLoadCalled=!0,eXo.env.portal.onLoad())))}),!1),Vue.prototype.$applicationLoaded=function(){this.$root.$emit("application-loaded"),document.dispatchEvent(new CustomEvent("vue-app-loading-end",{detail:{appName:this.appName,time:Date.now()}}))},Vue.createApp=function(e,t,n){const i="string"==typeof t?document.querySelector(t):t;if(i){e.data||(e.data={}),e.data.appName=n||i.id,document.dispatchEvent(new CustomEvent("vue-app-loading-start",{detail:{appName:e.data.appName,time:Date.now()}}));const t=new Vue(e);return t.$root.$on("alert-message",((e,t,n,i,r)=>{document.dispatchEvent(new CustomEvent("alert-message",{detail:{alertType:t,alertMessage:e,alertLinkCallback:n,alertLinkIcon:i,alertLinkTooltip:r}}))})),t.$root.$on("alert-message-html",((e,t,n,i,r)=>{document.dispatchEvent(new CustomEvent("alert-message-html",{detail:{alertType:t,alertMessage:e,alertLinkCallback:n,alertLinkIcon:i,alertLinkTooltip:r}}))})),t.$root.$on("close-alert-message",(()=>{document.dispatchEvent(new CustomEvent("close-alert-message"))})),t.$mount(i),t}console.warn(`Can't mount ${t} application because DOM element doesn't exist'`)},Vue.startApp=function(e,t,n){window.require([e],(e=>{t&&e[t](n)}))},Vue.directive("cacheable",{bind(e,t,n){const i=e.id;n.componentInstance.$root.$once("application-mount",(t=>{t&&console.warn(`It seems that ${e.id} didn't stopped displaying top bar loading`),function(){const e=document.querySelector(`#UIPortalApplication #${i}`);e?e.parentElement.replaceChild(n.componentInstance.$root.$el,e):console.warn(`Application with identifier ${i} was not found in page`)}()})),n.componentInstance.$root.$on("application-loaded",(()=>{n.componentInstance.$root.$vuetify.rtl="rtl"===eXo.env.portal.orientation,n.componentInstance.$root.$emit("application-mount")}))},inserted(e,t,n){window.setTimeout((()=>{n.componentInstance.$root.$emit("application-mount",!0)}),1e4)}});const je={};function Ue(){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaceTemplates/templates`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function Me(e,t,n,i,r,s,o){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/${s}/users?role=${r}&q=${e||""}&offset=${t||0}&limit=${n||0}&expand=${i||""}&returnSize=true`,{method:"GET",credentials:"include",signal:o}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function Ve(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/${e}/externalInvitations`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function Be(e,t){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/externalInvitations/${t}`,{method:"DELETE",credentials:"include"}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function Fe(e,t){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/${e}/users/${t}`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function ze(e,t){const n=`${e}-${t=t||""}`;return je[n]?Promise.resolve(je[n]):fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/${e}?expand=${t}`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)})).then((e=>(e&&(je[n]=e),e)))}function Ge(e,t){const n=`${e}-${t=t||""}`;return je[n]?Promise.resolve(je[n]):fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/byPrettyName/${e}?expand=${t}`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)})).then((e=>(e&&(je[n]=e),e)))}function He(e,t){const n=`${e}-${t=t||""}`;return je[n]?Promise.resolve(je[n]):fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/byDisplayName/${e}?expand=${t}`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)})).then((e=>(e&&(je[n]=e),e)))}function Je(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/${e}/applications`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function qe(){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/applications`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function We(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/applications/${e}`,{method:"DELETE",credentials:"include"}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function Ke(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/applications`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({applicationName:e.applicationName,contentId:e.contentId,description:e.description,displayName:e.displayName||e.applicationName,id:e.id})}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function Ye(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/layout/home/${e}`,{credentials:"include",method:"PUT"})}function Ze(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/${e}/navigations`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)})).then((e=>((e=e||[]).length&&e[0].children&&e[0].children.length&&(e=[e[0],...e[0].children]),e)))}function Qe(e,t,n,i,r){return r||(r="requests"===i?"pending":n?"managers":""),fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces?q=${e||""}&offset=${t||0}&limit=${n||0}&filterType=${i}&returnSize=true&expand=${r}`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function et(e){return sessionStorage&&sessionStorage.removeItem(`Suggestions_Spaces_${eXo.env.server.sessionId}`),fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/${e}`,{method:"DELETE",credentials:"include"}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function tt(e){return sessionStorage&&sessionStorage.removeItem(`Suggestions_Spaces_${eXo.env.server.sessionId}`),fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/${e.id}`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e&&e.ok?e.json():e.text().then((e=>{throw new Error(e)}))))}function nt(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e&&e.ok?e.json():e.text().then((e=>{throw new Error(e)}))))}function it(e){return sessionStorage&&sessionStorage.removeItem(`Suggestions_Spaces_${eXo.env.server.sessionId}`),fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/homepage/intranet/spaces/leave/${e}`,{method:"DELETE",credentials:"include"}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function rt(e){return sessionStorage&&sessionStorage.removeItem(`Suggestions_Spaces_${eXo.env.server.sessionId}`),fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/homepage/intranet/spaces/cancel/${e}`,{method:"DELETE",credentials:"include"}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function st(e){return sessionStorage&&sessionStorage.removeItem(`Suggestions_Spaces_${eXo.env.server.sessionId}`),fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/homepage/intranet/spaces/join/${e}`,{method:"GET",credentials:"include"}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function ot(e){return sessionStorage&&sessionStorage.removeItem(`Suggestions_Spaces_${eXo.env.server.sessionId}`),fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/homepage/intranet/spaces/request/${e}`,{method:"GET",credentials:"include"}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function at(e){return sessionStorage&&sessionStorage.removeItem(`Suggestions_Spaces_${eXo.env.server.sessionId}`),fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/homepage/intranet/spaces/accept/${e}`,{method:"GET",credentials:"include"}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function lt(e){return sessionStorage&&sessionStorage.removeItem(`Suggestions_Spaces_${eXo.env.server.sessionId}`),fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/homepage/intranet/spaces/deny/${e}`,{method:"GET",credentials:"include"}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function ct(e,t){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spacesMemberships`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({space:e,user:t,role:"MEMBER",status:"APPROVED"})}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function dt(e,t){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spacesMemberships`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({space:e,user:t,status:"IGNORED"})}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function pt(e,t){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spacesMemberships`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({space:e,user:t,status:"IGNORED"})}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function ut(e,t){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spacesMemberships`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({space:e,user:t,role:"manager"})}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function ht(e,t){const n=`${e}:${t}:manager`;return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spacesMemberships/${n}`,{method:"DELETE",credentials:"include"}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function mt(e,t){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spacesMemberships`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({space:e,user:t,role:"redactor"})}).then((n=>{if(!n||!n.ok)throw new Error(`Error while setting user ${t} as a redactor in ${e} space`,n)}))}function vt(e,t){const n=`${e}:${t}:redactor`;return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spacesMemberships/${n}`,{method:"DELETE",credentials:"include"}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function ft(e,t){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spacesMemberships`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({space:e,user:t,role:"publisher"})}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function gt(e,t){const n=`${e}:${t}:publisher`;return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spacesMemberships/${n}`,{method:"DELETE",credentials:"include"}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function yt(e,t){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/${e}/applications`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`appId=${t}`}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function $t(e,t){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/${e}/applications/${t}`,{method:"DELETE",credentials:"include"}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function wt(e,t){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/${e}/applications/${t}`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"transition=-1"}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function bt(e,t){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/${e}/applications/${t}`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"transition=1"}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function xt(e,t){const n=`${e}:${t}:member`;return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spacesMemberships/${n}`,{method:"DELETE",credentials:"include"}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function St(){const e=sessionStorage&&sessionStorage.getItem(`Suggestions_Spaces_${eXo.env.server.sessionId}`);return e?Promise.resolve(JSON.parse(e)):fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/homepage/intranet/spaces/suggestions`,{credentials:"include"}).then((e=>e&&e.ok?e.json():e.text().then((e=>{throw new Error(e)})))).then((e=>{if(sessionStorage&&e)try{sessionStorage.setItem(`Suggestions_Spaces_${eXo.env.server.sessionId}`,JSON.stringify(e))}catch(e){}return e}))}function _t(e){sessionStorage&&sessionStorage.removeItem(`Suggestions_Spaces_${eXo.env.server.sessionId}`);const t={user:e.username,space:e.displayName,status:"IGNORED"};return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spacesMemberships/`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e&&e.ok?e.json():e.text().then((e=>{throw new Error(e)}))))}function Et(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/${e}/checkExternals`,{method:"GET",credentials:"include"}).then((e=>e&&e.ok?e.text():e.text().then((e=>{throw new Error(e)}))))}function Ct(e,t){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/activities/${e}/share`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e&&e.ok?e.json():e.text().then((e=>{throw new Error(e)}))))}function Tt(e,t,n,i){cCometd.publish("/SpaceWebNotification",JSON.stringify({wsEventName:"notification.read.item",message:{spaceWebNotificationItem:JSON.stringify({userId:eXo.env.portal.userIdentityId,spaceId:e,applicationName:t,applicationItemId:n,userEvent:i})}}))}function It(e,t,n,i){cCometd.publish("/SpaceWebNotification",JSON.stringify({wsEventName:"notification.unread.item",message:{spaceWebNotificationItem:JSON.stringify({userId:eXo.env.portal.userIdentityId,spaceId:e,applicationName:t,applicationItemId:n,userEvent:i})}}))}function kt(e){cCometd.publish("/SpaceWebNotification",JSON.stringify({wsEventName:"notification.read.allItems",message:{spaceWebNotificationItem:JSON.stringify({userId:eXo.env.portal.userIdentityId,spaceId:e,userEvent:"click"})}}))}function Xt(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/identities/${e}`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function Ot(e,t){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/identities/${e}/${t}`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function Pt(e,t,n,i,r,s,o,a,l,c,d){s&&(c("space"),function(e,t,n,i,r,s){const o=new FormData;o.append("filterType",s||"member"),o.append("limit","20"),o.append("q",e);const a=new URLSearchParams(o).toString();return fetch(`/portal/rest/v1/social/spaces?${a}`,{credentials:"include"}).then((e=>e&&e.ok&&e.json())).then((e=>{e.spaces.forEach((e=>{(!i||e.redactorsCount)&&(n&&!e.isRedactor&&!e.canEdit&&e.redactorsCount||r&&!e.canEdit)||t.push({id:`space:${e.prettyName}`,remoteId:e.prettyName,spaceId:e.id,providerId:"space",displayName:e.displayName,profile:{fullName:e.displayName,originalName:e.shortName,avatarUrl:e.avatarUrl?e.avatarUrl:`/portal/rest/v1/social/spaces/${e.prettyName}/avatar`}})}))}))}(e,t,o,a,l,i?.filterType).finally((()=>d&&d("space")))),r&&(c("organization"),function(e,t,n,i){const r={nameToSearch:e,typeOfRelation:n||"mention_activity_stream",currentUser:eXo.env.portal.userName};let s=null,o=null;return i&&!i.searchUrl?(Object.assign(r,i),s=$.param(r),o="/portal/rest/social/people/suggest.json?".concat(s)):i.options?(s=$.param(i.options),o=i.searchUrl.concat(`${e}?${s}`)):o=i.searchUrl.concat(e),fetch(o,{credentials:"include"}).then((e=>e&&e.ok&&e.json())).then((e=>{e&&(e=e.options||e)&&e.length&&e.forEach((e=>{let n=e.value||e.id;e.id&&0===e.id.indexOf("@")&&(n=e.id.substring(1)),t.push({id:`organization:${n}`,remoteId:n,identityId:e.identityId,providerId:"organization",profile:{fullName:e.name||e.text,avatarUrl:e.avatar||e.avatarUrl||`/portal/rest/v1/social/users/${n}/avatar`}})}))}))}(e,t,n,i).finally((()=>d&&d("organization"))))}function Lt(e){(e.includeSpaces||e.includeUsers)&&Pt(e.term,e.items,e.typeOfRelations,e.searchOptions,e.includeUsers,e.includeSpaces,e.onlyRedactor,e.noRedactorSpace,e.onlyManager,e.loadingCallback,e.successCallback),e.includeGroups&&(e.loadingCallback("group"),function(e,t,n,i,r,s){const o=new FormData;o.append("q",e),o.append("groupMember",t),o.append("groupType",n),o.append("allGroupsForAdmin",r),o.append("excludeParentGroup","/spaces"),o.append("excludeParentGroup","/");const a=new URLSearchParams(o).toString();return fetch(`/portal/rest/v1/groups/treeMembers?${a}`,{credentials:"include"}).then((e=>e&&e.ok&&e.json())).catch((e=>{s(e)})).then((e=>{e.entities.forEach((e=>{i.push({id:`group:${e.groupName}`,remoteId:e.groupName,spaceId:e.id,providerId:"group",displayName:e.label,profile:{fullName:e.label,originalName:e.groupName,avatarUrl:null}})}))}))}(e.term,e.groupMember,e.groupType,e.items,e.allGroupsForAdmin,e.errorCallback).finally((()=>e.successCallback&&e.successCallback("group"))))}function At(e){if(!e)return null;const t={id:`${e.providerId}:${e.remoteId}`,providerId:e.providerId,remoteId:e.remoteId},n=e.profile||e.space;return n&&(t.profile={avatarUrl:n.avatarUrl||n.avatar,fullName:n.displayName||n.fullname||n.fullName}),t}function Dt(e){if(!Dt)return null;const t={providerId:e.providerId,remoteId:e.remoteId},n=e.profile;return n&&(t.profile={avatar:n.avatarUrl,fullname:n.fullName,originalName:n.originalName}),t}function Nt(e){return e?Xt(e).then(At):Promise.resolve(null)}function Rt(e){return e&&e.providerId&&e.remoteId?Ot(e.providerId,e.remoteId):Promise.resolve(null)}const jt="AVATAR_EXCEEDS_LIMIT",Ut="BANNER_EXCEEDS_LIMIT",Mt=1e5;function Vt(e){return fetch(`${eXo.env.portal.context}/upload?uploadId=${e}&action=progress`,{method:"GET",credentials:"include"}).then((e=>e&&e.ok&&e.text())).then((t=>{if((t=(t=JSON.parse(t.replace("upload",'"upload"')))&&t.upload||t)[e]){if(t[e]&&"failed"===t[e].status)throw new Error("Upload error");return t[e].percent}return 0}))}function Bt(e){return fetch(`${eXo.env.portal.context}/upload?uploadId=${e}&action=delete`,{method:"POST",credentials:"include"})}function Ft(e){return fetch(`${eXo.env.portal.context}/upload?uploadId=${e}&action=abort`,{method:"POST",credentials:"include"})}function zt(e,t,n){t||(t=Gt());const i=`${eXo.env.portal.context}/upload?uploadId=${t}&action=upload`,r=new FormData;r.append("file",e);const s={method:"POST",credentials:"include",body:r};return n&&(s.signal=n),fetch(i,s).then((e=>e&&e.ok&&t))}function Gt(){return`${Math.round(Math.random()*Mt)}-${Date.now()}`}const Ht=/^[1-9]\d*$/g,Jt=/^\d{2}\/\d{2}\/\d{4}$/;function qt(e,t){if(e=String(e).trim(),new RegExp(Ht).test(e))return new Date(parseInt(e));if(new RegExp(Jt).test(e)){const[t,n,i]=e.trim().split("/");return new Date(i,parseInt(n)-1,t)}return t?e.length>10?new Date(e):new Date(`${e}T00:00:00`):new Date(e)}function Wt(e){return e?(e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().substring(0,10)):null}function Kt(e,t,n){return n||(n=eXo.env.portal.language),t?new window.Intl.DateTimeFormat(n,t).format(e):Wt(e)}function Yt(e){if(!e||!e.getTime)return"";const t=(Date.now()-e.getTime())/1e3;return t<60?"TimeConvert.label.Less_Than_A_Minute":t<120?"TimeConvert.label.About_A_Minute":t<3600?"TimeConvert.label.About_?_Minutes":t<7200?"TimeConvert.label.About_An_Hour":t<86400?"TimeConvert.label.About_?_Hours":t<172800?"TimeConvert.label.About_A_Day":t<2592e3?"TimeConvert.label.About_?_Days":t<5184e3?"TimeConvert.label.About_A_Month":"TimeConvert.label.About_?_Months"}function Zt(e){if(!e||!e.getTime)return"";const t=(Date.now()-e.getTime())/1e3;return t>=120&&t<3600?Math.round(t/60):t>=7200&&t<86400?Math.round(t/3600):t>=172800&&t<2592e3?Math.round(t/86400):t>=5184e3?Math.round(t/2592e3):void 0}function Qt(e){if(!e||!e.getTime)return"";const t=parseInt((Date.now()-e.getTime())/6e4);if(t<1)return"TimeConvert.label.Short.Now";{const e=parseInt(t/60);if(e<1)return"TimeConvert.label.Short.Minutes";{const t=parseInt(e/24);if(t<1)return"TimeConvert.label.Short.Hours";{const e=parseInt(t/30);return e<1?"TimeConvert.label.Short.Days":e<12?"TimeConvert.label.Short.Months":"TimeConvert.label.Short.Years"}}}}function en(e){if(!e||!e.getTime)return"";const t=parseInt((Date.now()-e.getTime())/6e4);if(t>1){const e=parseInt(t/60);if(e<1)return t;{const t=parseInt(e/24);if(t<1)return e;{const e=parseInt(t/30);return e<1?t:e<12?e:parseInt(e/12)}}}}function tn(e,t,n,i,r,s){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/settings/${e},${t}/${n},${i}/${r}`,{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({value:s})}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function nn(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/features/${e}`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.text();throw new Error("Response code indicates a server error",e)})).then((e=>"true"===e))}function rn(e,t,n,i){const r=new FormData;e&&r.append("spaceId",e),n&&n>0&&r.append("limit",n),t&&r.append("streamType",t.toUpperCase()),i&&r.append("expand",i);const s=decodeURIComponent(new URLSearchParams(r).toString());return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/activities?${s}`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function sn(e,t){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/activities/${e}?expand=${t||""}`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function on(e,t,n,i,r){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/activities/${e}/comments?returnSize=true&sortDescending=${t||!1}&offset=${n||0}&limit=${i||10}&expand=${r||""}`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)})).then((e=>(e.comments=yn(e.comments),e)))}function an(e,t,n,i,r){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/activities?spaceId=${i||""}`,{headers:{"Content-Type":"application/json"},credentials:"include",method:"POST",body:JSON.stringify({title:e,type:t,templateParams:r||{},files:n})}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function ln(e,t,n,i){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/activities/${e}/share`,{headers:{"Content-Type":"application/json"},credentials:"include",method:"POST",body:JSON.stringify({title:t,templateParams:n,targetSpaces:i})}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function cn(e,t,n,i,r){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/activities/${e}`,{headers:{"Content-Type":"application/json"},credentials:"include",method:"PUT",body:JSON.stringify({title:t,type:n,templateParams:r||{},files:i})}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function dn(e,t){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/activities/${e}?hide=${t||!1}`,{method:"DELETE",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function pn(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/activities/${e}/pins`,{method:"POST",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function un(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/activities/${e}/pins`,{method:"DELETE",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function hn(e,t,n){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/activities/${e}/likes?offset=${t||0}&limit=${n||50}`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function mn(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/activities/${e}/likes`,{method:"POST",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function vn(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/activities/${e}/likes`,{method:"DELETE",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function fn(e,t,n,i,r,s){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/activities/${e}/comments?expand=${s||""}`,{headers:{"Content-Type":"application/json"},credentials:"include",method:"POST",body:JSON.stringify({title:n,body:n,parentCommentId:t,templateParams:r||{},files:i})}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function gn(e,t,n,i,r,s,o){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/activities/${e}/comments?expand=${o||""}`,{headers:{"Content-Type":"application/json"},credentials:"include",method:"PUT",body:JSON.stringify({id:n,title:i,body:i,parentCommentId:t,templateParams:s||{},files:r})}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function yn(e){const t=[];if(e&&e.length){const n={};e.forEach((e=>{if(e.parentCommentId){let i=n[e.parentCommentId];if(i)i.subCommentsSize++,i.subComments||(i.subComments=[]),i.subComments.push(e);else{if(i=t.find((t=>t.id===e.parentCommentId)),!i)return;n[e.parentCommentId]=i,i.subCommentsSize=1,i.subComments=[e]}}else n[e.parentCommentId]=e,e.subCommentsSize||(e.subCommentsSize=0,e.subComments=[]),t.push(e)})),t.length&&(t.forEach((e=>{e.subComments&&e.subComments.length&&e.subComments.sort($n)})),t.sort($n))}return t}function $n(e,t){return new Date(e.createDate).getTime()-new Date(t.createDate).getTime()}function wn(e,t,n){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/favorites?offset=${e||0}&limit=${t||10}&returnSize=${n}`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function bn(e,t,n,i){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/favorites/${e}/${t}?parentObjectId=${n||""}&spaceId=${i||0}&ignoreWhenExisting=true`,{method:"POST",credentials:"include"}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function xn(e,t){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/favorites/${e}/${t}?ignoreNotExisting=true`,{method:"DELETE",credentials:"include"}).then((e=>{if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function Sn(e){const t=document.querySelectorAll(".metadata-tag:not([title])");t&&t.length&&t.forEach((t=>{t.title=e}))}function _n(e,t){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/tags?q=${e||""}&limit=${t||10}`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}const En={};function Cn(e,t){const n=window.location,i=eXo.env.portal.cometdContext,r=eXo.env.portal.cometdToken;cCometd.configure({url:`${n.protocol}//${n.hostname}${n.port?":":""}${n.port||""}/${i}/cometd`,exoId:eXo.env.portal.userName,exoToken:r}),!t&&En[e]||(En[e]=!0,cCometd.subscribe(e,null,(e=>{if(!e.data||!JSON.parse(e.data))return;const t=JSON.parse(e.data);document.dispatchEvent(new CustomEvent(t.wsEventName,{detail:t}))})))}const Tn={ENV:eXo.env.portal||"",PORTAL:eXo.env.portal.context||"",PORTAL_NAME:eXo.env.portal.portalName||"",PORTAL_CONTEXT:eXo.env.portal.context,PORTAL_REST:eXo.env.portal.rest,PROFILE_SPACE_LINK:"/g/:spaces:",SOCIAL_USER_API:`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/users/`,SOCIAL_SPACE_API:`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaces/`,SPACES_ADMINISTRATION_API:`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spacesAdministration`,SPACE_GROUP_BINDING_API:`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaceGroupBindings`,USER_API:`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/users`,GROUP_API:`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/groups`,SPACES_PER_PAGE:30,DEFAULT_SPACE_AVATAR:"/eXoSkin/skin/images/system/SpaceAvtDefault.png",SPACES_TEMPLATES_API:`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/spaceTemplates`,CONTAINER_NAME:eXo.env.portal.containerName||"",SPACE_ID:eXo.env.portal.spaceId,LANG:eXo.env.portal.language,HOST_NAME:window.location.host,MANAGERS_ROLE:"/users?role=manager",UPLOAD_API:`${eXo.env.portal.context}/upload`,MAX_UPLOAD_SIZE:10,MAX_UPLOAD_FILES:1,userName:eXo.env.portal.userName,format:"json",typeOfRelation:"confirmed"},In=document.createElement("textarea");function kn(e){if(!e)return"";let t=e.replace(/<[^>]+>/g," ").trim();return In.innerHTML=t,t=In.value,t.replace(/[\r|\n|\t]/g," ").replace(/ +(?= )/g," ").trim()}function Xn(e){return e&&e.trim().replace(/(<p>(&nbsp;)*(\\n\\r\\t)*<\/p>)*(<div>(&nbsp;)*( \\n\\r\\t)*<\/div>)*(\\r)*(\\n)*(\\t)*/g,"")||""}function On(e){if(Array.isArray(e)){let t="";return new Uint8Array(e).forEach((e=>t+=String.fromCharCode(e))),`data:image/png;base64,${btoa(t)}`}return e}function Pn(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/platform/branding`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>{if(!e||!e.ok)return An(e,"Error saving Company Name")}))}function Ln(){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/platform/branding`,{method:"GET",credentials:"include"}).then((e=>e.json()))}function An(e,t){if(!e||!e.ok){const n=e&&e.headers&&e.headers.get("content-type");if(n&&-1!==n.indexOf("application/json"))return e.json().then((e=>{const n=Dn(e,t);throw new Error(n)}))}throw new Error(t)}function Dn(e,t){return e&&e.code&&e.suffix&&e.message?e.message:t}function Nn(){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/profile/settings`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error")}))}function Rn(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/profile/settings`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e,((e,t)=>{if(null!==t)return t}))}).then((e=>{if(e&&e.ok)return e.json();throw 409===e.status?new Error("profileSettings.create.error.already.exist.message"):new Error("profileSettings.create.error.message")}))}function jn(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/profile/settings`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e,((e,t)=>{if(null!==t)return t}))}).then((e=>{if(e&&e.ok)return e.ok;throw new Error("profileSettings.update.error.message")}))}function Un(e,t,n){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/profile/label/${e}/${t}/${n}`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error")}))}function Mn(e,t){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/profile/label/bulk/${e}/${t}`,{method:"GET",credentials:"include"}).then((e=>{if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error")}))}function Vn(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/profile/label/bulk`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e,((e,t)=>{if(null!==t)return t}))}).then((e=>{if(e&&e.ok)return e.ok;throw new Error("labels.create.error.message")}))}function Bn(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/profile/label/bulk`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e,((e,t)=>{if(null!==t)return t}))}).then((e=>{if(e&&e.ok)return e.ok;throw new Error("labels.update.error.message")}))}function Fn(e){return fetch(`${eXo.env.portal.context}/${eXo.env.portal.rest}/v1/social/profile/label/bulk`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e,((e,t)=>{if(null!==t)return t}))}).then((e=>{if(e&&e.ok)return e.ok;throw new Error("labels.update.error.message")}))}if(extensionRegistry){const e=extensionRegistry.loadComponents("CommonComponents");e&&e.length>0&&e.forEach((e=>{Vue.component(e.componentName,e.componentOptions)}))}Vuetify.prototype.preset=eXo.env.portal.vuetifyPreset,Vue.use(Vuetify),Vue.use(VueEllipsis),Vue.prototype.vuetifyOptions=new Vuetify(eXo.env.portal.vuetifyPreset),window.Object.defineProperty(Vue.prototype,"$userService",{value:n}),window.Object.defineProperty(Vue.prototype,"$spaceService",{value:i}),window.Object.defineProperty(Vue.prototype,"$suggesterService",{value:s}),window.Object.defineProperty(Vue.prototype,"$uploadService",{value:o}),window.Object.defineProperty(Vue.prototype,"$identityService",{value:r}),window.Object.defineProperty(Vue.prototype,"$dateUtil",{value:a}),window.Object.defineProperty(Vue.prototype,"$settingService",{value:l}),window.Object.defineProperty(Vue.prototype,"$featureService",{value:c}),window.Object.defineProperty(Vue.prototype,"$activityService",{value:d}),window.Object.defineProperty(Vue.prototype,"$favoriteService",{value:p}),window.Object.defineProperty(Vue.prototype,"$tagService",{value:u}),window.Object.defineProperty(Vue.prototype,"$socialWebSocket",{value:h}),window.Object.defineProperty(Vue.prototype,"$utils",{value:m}),window.Object.defineProperty(Vue.prototype,"$spacesConstants",{value:Tn}),window.Object.defineProperty(Vue.prototype,"$brandingService",{value:v}),window.Object.defineProperty(Vue.prototype,"$profileSettingsService",{value:f}),window.Object.defineProperty(Vue.prototype,"$profileLabelService",{value:g}),eXo.env.portal.userIdentityId&&(window.Object.defineProperty(Vue.prototype,"$currentUserIdentity",{value:{id:eXo.env.portal.userIdentityId,username:eXo.env.portal.userName}}),Xt(eXo.env.portal.userIdentityId).then((e=>{e&&Object.assign(Vue.prototype.$currentUserIdentity,e)})));const zn="undefined"!=typeof eXo?eXo.env.portal.language:"en",Gn=[`${eXo.env.portal.context}/${eXo.env.portal.rest}/i18n/bundle/locale.portlet.Portlets-${zn}.json`,`${eXo.env.portal.context}/${eXo.env.portal.rest}/i18n/bundle/locale.social.Webui-${zn}.json`,`${eXo.env.portal.context}/${eXo.env.portal.rest}/i18n/bundle/locale.commons.Commons-${zn}.json`,`${eXo.env.portal.context}/${eXo.env.portal.rest}/i18n/bundle/locale.portlet.social.UserPopup-${zn}.json`,`${eXo.env.portal.context}/${eXo.env.portal.rest}/i18n/bundle/locale.portlet.social.SpacesListApplication-${zn}.json`];function Hn(e){switch(document.readyState){case"loading":window.setTimeout((()=>Hn(e)),50);break;case"interactive":case"complete":if(document.querySelector("#drawers-overlay"))new Vue({template:'<drawers-overlay id="drawers-overlay" />',vuetify:Vue.prototype.vuetifyOptions,i18n:e}).$mount("#drawers-overlay");else{const t=document.querySelector("#MiddleToolBarChildren")||document.body;let n=t.querySelector("#drawers-overlay");n||(n=document.createElement("div"),n.id="drawers-overlay",n.class="v-application v-application--is-ltr transparent theme--light",t.appendChild(n),t.classList.add("VuetifyApp"),new Vue({template:'<drawers-overlay id="drawers-overlay" />',vuetify:Vue.prototype.vuetifyOptions,i18n:e}).$mount(n))}}}window.drawersOverlayInitialized||(window.drawersOverlayInitialized=!0,exoi18n.loadLanguageAsync(zn,Gn).then((e=>Hn(e))));const Jn=document.querySelector("#bottom-all-container")||document.body;let qn=Jn.querySelector("#alert-notifications");return qn||(qn=document.createElement("div"),qn.id="alert-notifications",qn.class="v-application v-application--is-ltr transparent theme--light",Jn.appendChild(qn),Jn.classList.add("VuetifyApp"),new Vue({template:'<v-app id="alert-notifications"><alert-notifications /></v-app>',vuetify:Vue.prototype.vuetifyOptions}).$mount(qn)),t})()));