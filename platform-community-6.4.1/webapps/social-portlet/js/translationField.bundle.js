define((()=>(()=>{"use strict";var t={};(t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})})(t);var e=function(){var t=this,e=t._self._c;return e("exo-drawer",{ref:"drawer",attrs:{id:"translationDrawer","allow-expand":"",right:"","disable-pull-to-refresh":""},scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{staticClass:"text-capitalize-first-letter"},[t._v("\n      "+t._s(t.$t(t.title))+"\n    ")])]},proxy:!0},t.translations?{key:"content",fn:function(){return t._l(t.existingLanguages,(function(a){return e("v-row",{key:a,staticClass:"mx-0 mb-0 mt-4 max-width-fit",attrs:{"no-gutters":""}},[e("v-col",{staticClass:"px-2",attrs:{cols:"8"}},[e("v-text-field",{staticClass:"border-box-sizing pt-0",attrs:{name:`${a}-translation-value`,value:t.translations[a],autofocus:a===t.defaultLanguage&&"autofocus",type:"text",outlined:"",dense:""},on:{input:function(e){return t.updateValue(a,e)}}})],1),t._v(" "),e("v-col",{attrs:{cols:"4"}},[e("div",{staticClass:"d-flex max-width-fit"},[e("div",{staticClass:"flex-grow-1 text-truncate"},[e("select",{staticClass:"max-width-fit ignore-vuetify-classes my-0",attrs:{disabled:a===t.defaultLanguage,title:t.supportedLanguages[a]},on:{change:function(e){return t.changeLanguage(a,e)}}},[e("option",{domProps:{value:a}},[t._v("\n                "+t._s(t.supportedLanguages[a])+"\n              ")]),t._v(" "),t._l(t.remainingLanguages,(function(a){return e("option",{key:a,domProps:{value:a}},[t._v("\n                "+t._s(t.supportedLanguages[a])+"\n              ")])}))],2)]),t._v(" "),e("div",{staticClass:"flex-grow-0"},[a===t.defaultLanguage?e("v-btn",{attrs:{disabled:!t.hasRemainingLanguages,icon:""},on:{click:t.addValue}},[e("v-icon",[t._v("fas fa-plus")])],1):e("v-btn",{attrs:{icon:""},on:{click:function(e){return t.removeValue(a)}}},[e("v-icon",[t._v("fas fa-minus")])],1)],1)])])],1)}))},proxy:!0}:null,{key:"footer",fn:function(){return[e("div",{staticClass:"d-flex"},[e("v-spacer"),t._v(" "),e("v-btn",{staticClass:"btn me-2",on:{click:t.close}},[t._v("\n        "+t._s(t.$t("translationDrawer.cancel"))+"\n      ")]),t._v(" "),e("v-btn",{staticClass:"btn btn-primary",on:{click:t.apply}},[t._v("\n        "+t._s(t.$t("translationDrawer.apply"))+"\n      ")])],1)]},proxy:!0}],null,!0),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}})};function a(t,e,a,n,s,i,r,l){var u,o="function"==typeof t?t.options:t;if(e&&(o.render=e,o.staticRenderFns=a,o._compiled=!0),n&&(o.functional=!0),i&&(o._scopeId="data-v-"+i),r?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},o._ssrRegister=u):s&&(u=l?function(){s.call(this,(o.functional?this.parent:this).$root.$options.shadowRoot)}:s),u)if(o.functional){o._injectStyles=u;var g=o.render;o.render=function(t,e){return u.call(e),g(t,e)}}else{var d=o.beforeCreate;o.beforeCreate=d?[].concat(d,u):[u]}return{exports:t,options:o}}e._withStripped=!0;const n=a({props:{value:{type:Object,default:null},drawerTitle:{type:String,default:null},defaultLanguage:{type:String,default:null},supportedLanguages:{type:Object,default:null}},data:()=>({drawer:!1,title:null,translations:null,existingLanguages:[]}),computed:{languages(){return Object.keys(this.supportedLanguages).sort(((t,e)=>this.supportedLanguages[t].localeCompare(this.supportedLanguages[e])))},remainingLanguages(){return this.languages.slice().filter((t=>this.existingLanguages.indexOf(t)<0))},hasRemainingLanguages(){return this.remainingLanguages.length>0}},methods:{open(){this.title=this.drawerTitle||"translationDrawer.defaultTitle",this.translations=this.value&&JSON.parse(JSON.stringify(this.value))||{},this.refreshExistingLanguages(!0),this.$refs.drawer.open()},apply(){this.$emit("input",this.translations),this.close()},close(){this.$refs.drawer.close(),this.translations=null},refreshExistingLanguages(t){this.existingLanguages=t?Object.keys(this.translations).slice().sort(((t,e)=>t===this.defaultLanguage?-1:e===this.defaultLanguage?1:this.supportedLanguages[t].localeCompare(this.supportedLanguages[e]))):Object.keys(this.translations).slice()},addValue(){this.hasRemainingLanguages&&(this.translations[this.remainingLanguages[0]]=this.translations[this.defaultLanguage],this.refreshExistingLanguages())},removeValue(t){delete this.translations[t],this.refreshExistingLanguages()},changeLanguage(t,e){const a=e?.target?.value;a&&this.supportedLanguages[a]&&(this.translations[a]=this.translations[t],delete this.translations[t],this.refreshExistingLanguages())},updateValue(t,e){this.translations[t]=e}}},e,[],!1,null,null,null).exports;var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"translation-text-field"},[e("v-text-field",{staticClass:"border-box-sizing pt-0",attrs:{id:t.id,name:t.id,placeholder:t.placeholder,required:t.required,"aria-required":t.required,type:"text",outlined:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[e("v-btn",{staticClass:"mt-n2 pt-2px",attrs:{title:t.iconTitle,icon:""},on:{click:t.openDrawer}},[e("v-icon",{attrs:{color:t.iconColor}},[t._v("fas fa-language")])],1)]},proxy:!0}]),model:{value:t.defaultLanguageValue,callback:function(e){t.defaultLanguageValue=e},expression:"defaultLanguageValue"}}),t._v(" "),e("translation-drawer",{ref:"translationDrawer",attrs:{"drawer-title":t.drawerTitle,"default-language":t.defaultLanguage,"supported-languages":t.supportedLanguages},on:{input:function(e){return t.$emit("input",e)}},model:{value:t.valuesPerLanguage,callback:function(e){t.valuesPerLanguage=e},expression:"valuesPerLanguage"}})],1)};s._withStripped=!0;const i={"translation-drawer":n,"translation-text-field":a({props:{id:{type:String,default:null},value:{type:Object,default:null},placeholder:{type:String,default:null},drawerTitle:{type:String,default:null},defaultLanguage:{type:String,default:null},supportedLanguages:{type:Array,default:null},required:{type:Boolean,default:!1}},data:()=>({defaultLanguageValue:null,valuesPerLanguage:{}}),computed:{translationsCount(){return Object.keys(this.valuesPerLanguage).length},iconColor(){return this.translationsCount>1?"primary":""},iconTitle(){return this.translationsCount>1?this.$t("translationDrawer.existingTranslationsTooltip",{0:this.translationsCount-1}):this.$t("translationDrawer.noTranslationsTooltip")}},watch:{value:{immediate:!0,handler:function(){this.valuesPerLanguage=this.value&&JSON.parse(JSON.stringify(this.value))||{},this.defaultLanguageValue=this.valuesPerLanguage[this.defaultLanguage]||""}},defaultLanguageValue(){this.defaultLanguageValue!==this.valuesPerLanguage[this.defaultLanguage]&&(this.valuesPerLanguage[this.defaultLanguage]=this.defaultLanguageValue,this.$emit("input",this.valuesPerLanguage))}},methods:{openDrawer(){this.$refs.translationDrawer.open()}}},s,[],!1,null,null,null).exports};for(const t in i)Vue.component(t,i[t]);return t})()));