define((()=>(()=>{"use strict";var t={d:(e,a)=>{for(var o in a)t.o(a,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:a[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{destroy:()=>g,init:()=>y});var a=function(){var t=this,e=t._self._c;return e("v-app",[e("v-menu",{attrs:{rounded:"rounded",elevation:"2","open-on-hover":"",transition:"slide-x-transition","close-on-content-click":!1,"nudge-width":200,"max-width":"350","min-width":"300","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e("div",t._g(t._b({staticClass:"d-inline-flex"},"div",o,!1),a),[e("a",{attrs:{href:t.portalPath}},[t.logoPath?e("v-list-item-avatar",{staticClass:"tile my-0 spaceAvatar ms-0 me-3",attrs:{id:"UserHomePortalLink",size:"30",tile:""}},[e("v-img",{attrs:{src:t.logoPath,alt:t.logoTitle}})],1):t._e()],1),t._v(" "),e("a",{class:"ps-2 align-self-center brandingContainer space",attrs:{href:t.portalPath}},[e("div",{staticClass:"logoTitle subtitle-2 font-weight-bold text-truncate"},[t._v("\n            "+t._s(t.logoTitle)+"\n          ")])])])]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),e("v-card",{attrs:{elevation:"2"}},[e("v-list",{staticClass:"pa-0"},[e("v-list-item",{staticClass:"pt-3"},[e("v-list-item-avatar",{staticClass:"spaceAvatar mt-0 align-self-start",attrs:{width:"60",height:"60"}},[e("v-img",{staticClass:"object-fit-cover",attrs:{src:`${t.logoPath}&size=60x60`}})],1),t._v(" "),e("v-list-item-content",{staticClass:"pb-0 pt-0"},[e("v-list-item-title",[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e("span",t._g(t._b({staticClass:"primary--text text--darken-3 font-weight-bold"},"span",o,!1),a),[t._v("\n                    "+t._s(t.logoTitle)+"\n                  ")])]}}])},[t._v(" "),e("span",[t._v(t._s(t.logoTitle))])])],1),t._v(" "),e("v-list-item-subtitle",[t._v("\n              "+t._s(t.membersNumber)+" "+t._s(t.$t("space.logo.banner.popover.members"))+"\n            ")]),t._v(" "),e("p",{staticClass:"text-truncate-2 text-caption text--primary font-weight-medium"},[t._v("\n              "+t._s(t.spaceDescription)+"\n            ")])],1)],1)],1),t._v(" "),e("v-list",{staticClass:"pa-0 mt-0 mb-0"},[e("v-list-item",{staticClass:"pt-0 pb-0"},[e("v-list-item-content",[e("v-container",{staticClass:"pa-0"},[e("v-row",{staticClass:"align-center",attrs:{"no-gutters":""}},[e("v-col",{staticClass:"body-2 grey--text text-truncate text--darken-1 text-left",attrs:{cols:"6"}},[t._v("\n                  "+t._s(t.$t("space.logo.banner.popover.managers"))+"\n                ")]),t._v(" "),e("v-col",{staticClass:"d-flex flex-nowrap justify-end pa-0",attrs:{cols:"6"}},[e("exo-user-avatars-list",{attrs:{users:t.mangersToDisplay,"icon-size":30,popover:!1,max:"3","retrieve-extra-information":"","avatar-overlay-position":""},on:{"open-detail":function(e){return t.openDetails()}}})],1)],1)],1)],1)],1)],1),t._v(" "),e("v-divider"),t._v(" "),e("v-list",{staticClass:"pa-0 mt-0 mb-0"},[e("v-list-item",{staticClass:"pt-0 pb-0"},[e("v-list-item-content",{staticClass:"py-1"},[e("v-list-item-title",[e("v-btn",{staticClass:"pa-0 pe-2",attrs:{href:t.homePath,color:"primary",text:""},on:{click:function(e){return t.popoverActionEvent("backToHome")}}},[e("v-icon",{staticClass:"me-1 ms-0",attrs:{dense:"",right:""}},[t._v("\n                  mdi-home\n                ")]),t._v(" "),e("span",{staticClass:"text-caption pt-1"},[t._v(t._s(t.$t("space.logo.banner.popover.home")))])],1)],1)],1),t._v(" "),e("v-list-item-action",{staticClass:"space-logo-popover flex-row"},[e("exo-space-favorite-action",{attrs:{"is-favorite":t.isFavorite,"space-id":t.spaceId,"entity-type":"SPACE_TOP_BAR_TIPTIP"}}),t._v(" "),e("extension-registry-components",{attrs:{params:t.params,name:"SpacePopover",type:"space-popover-action","parent-element":"div",element:"div","element-class":"mx-auto ma-lg-0"}}),t._v(" "),e("space-popover-action-component")],1)],1)],1)],1)],1),t._v(" "),e("space-hosts-drawer")],1)};function o(t,e,a,o,s,n,i,r){var l,p="function"==typeof t?t.options:t;if(e&&(p.render=e,p.staticRenderFns=a,p._compiled=!0),o&&(p.functional=!0),n&&(p._scopeId="data-v-"+n),i?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},p._ssrRegister=l):s&&(l=r?function(){s.call(this,(p.functional?this.parent:this).$root.$options.shadowRoot)}:s),l)if(p.functional){p._injectStyles=l;var c=p.render;p.render=function(t,e){return l.call(e),c(t,e)}}else{var d=p.beforeCreate;p.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:p}}a._withStripped=!0;const s=o({props:{logoPath:{type:String,default:function(){return null}},portalPath:{type:String,default:function(){return null}},logoTitle:{type:String,default:function(){return null}},membersNumber:{type:Number,default:function(){return null}},spaceDescription:{type:String,default:function(){return""}},homePath:{type:String,default:function(){return""}},managers:{type:Array,default:function(){return null}},spaceId:{type:String,default:""},isFavorite:{type:Boolean,default:!1},isMember:{type:Boolean,default:!1}},computed:{mangersToDisplay(){return this.managers},params:()=>({identityType:"space",identityId:eXo.env.portal.spaceId})},methods:{popoverActionEvent(t){document.dispatchEvent(new CustomEvent("space-topbar-popover-action",{detail:t}))},openDetails(){this.$root.$emit("displaySpaceHosts",this.mangersToDisplay),this.popoverActionEvent("displaySpaceHosts")}}},a,[],!1,null,null,null).exports;var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-inline-flex"},t._l(t.enabledComponents,(function(t){return e("span",{key:t.key,ref:t.key,refInFor:!0,class:`${t.appClass} ${t.typeClass}`})})),0)};n._withStripped=!0,extensionRegistry.loadExtensions("space-menu","action-component");const i=extensionRegistry.loadExtensions("space-title-action-components","action-component"),r=o({computed:{enabledComponents:()=>i.filter((t=>t.enabled))},mounted(){i.map((t=>this.initTitleActionComponent(t)))},methods:{initTitleActionComponent(t){if(t.init&&!t.isStartedInit&&t.enabled){t.isStartedInit=!0;let e=this.$refs[t.key];e&&e.length>0?(e=e[0],t.init(e,eXo.env.portal.spaceName)):console.error(`Error initialization of the ${t.key} action component: empty container`)}}}},n,[],!1,null,null,null).exports;var l=function(){var t=this,e=t._self._c;return e("exo-drawer",{ref:"managersDrawer",attrs:{right:""}},[e("template",{slot:"title"},[t._v("\n    "+t._s(t.$t("spacesList.title.managers"))+"\n  ")]),t._v(" "),t.displaySpaceHosts?e("template",{slot:"content"},[e("v-layout",{staticClass:"ma-3",attrs:{column:""}},t._l(t.displaySpaceHosts,(function(t){return e("exo-user-avatar",{key:t.id,attrs:{"profile-id":t.userName,"extra-class":"my-2",popover:""}})})),1)],1):t._e()],2)};l._withStripped=!0;const p=o({data:()=>({displaySpaceHosts:null}),mounted(){this.$root.$on("displaySpaceHosts",(t=>{this.displaySpaceHosts=t,this.$refs.managersDrawer.open()}))}},l,[],!1,null,null,null).exports;var c=function(){var t=this;return(0,t._self._c)("favorite-button",{attrs:{id:t.spaceId,"space-id":t.spaceId,favorite:t.favorite,absolute:t.absolute,top:t.top,right:t.right,small:!1,type:"space","type-label":"space","entity-type":t.entityType,"display-label":t.displayLabel,"extra-class":t.extraClass},on:{removed:t.removed,"remove-error":t.removeError,added:t.added,"add-error":t.addError}})};c._withStripped=!0;const d={props:{spaceId:{type:String,default:""},isFavorite:{type:Boolean,default:!1},entityType:{type:String,default:null},absolute:{type:Boolean,default:!1},top:{type:Number,default:()=>0},right:{type:Number,default:()=>0},displayLabel:{type:Boolean,default:!1},extraClass:{type:String,default:()=>""}},data:()=>({favorite:!1}),created(){this.favorite="true"===this.isFavorite},methods:{removed(){this.displayAlert(this.$t("Favorite.tooltip.SuccessfullyDeletedFavorite",{0:this.$t("spaceList.alert.label")})),this.$emit("removed"),document.dispatchEvent(new CustomEvent("space-favorite-removed",{detail:this.spaceId}))},removeError(){this.displayAlert(this.$t("Favorite.tooltip.ErrorDeletingFavorite",{0:this.$t("spaceList.alert.label")}),"error")},added(){this.displayAlert(this.$t("Favorite.tooltip.SuccessfullyAddedAsFavorite",{0:this.$t("spaceList.alert.label")})),this.$emit("added"),document.dispatchEvent(new CustomEvent("space-favorite-added",{detail:this.spaceId}))},addError(){this.displayAlert(this.$t("Favorite.tooltip.ErrorAddingAsFavorite",{0:this.$t("spaceList.alert.label")}),"error")},displayAlert(t,e){document.dispatchEvent(new CustomEvent("notification-alert",{detail:{message:t,type:e||"success"}}))}}},m={"exo-space-logo-banner":s,"space-popover-action-component":r,"space-hosts-drawer":p,"exo-space-favorite-action":o(d,c,[],!1,null,null,null).exports};for(const t in m)Vue.component(t,m[t]);if(extensionRegistry){const t=extensionRegistry.loadComponents("ExoPopover");t&&t.length>0&&t.forEach((t=>{Vue.component(t.componentName,t.componentOptions)}))}Vue.use(Vuetify);const u=new Vuetify(eXo.env.portal.vuetifyPreset),v=eXo&&eXo.env.portal.language||"en",f=`${eXo.env.portal.context}/${eXo.env.portal.rest}/i18n/bundle/locale.portlet.Portlets-${v}.json`;let h;function y(t){exoi18n.loadLanguageAsync(v,f).then((e=>{h=Vue.createApp({data:function(){return{spaceId:t.id,isFavorite:t.isFavorite,isMember:t.isMember,logoPath:t.logoPath,portalPath:t.portalPath,imageClass:t.imageClass,logoTitle:t.logoTitle,titleClass:t.titleClass,membersNumber:t.membersNumber,spaceDescription:t.spaceDescription,managers:t.managers,homePath:t.homePath}},template:'<exo-space-logo-banner\n                    id="SpaceTopBannerLogo"\n                    :space-id="spaceId"\n                    :is-favorite="isFavorite"\n                    :is-member="isMember"\n                    :logo-path="logoPath" \n                    :portal-path="portalPath"\n                    :logo-title="logoTitle" \n                    :members-number="membersNumber"\n                    :managers="managers"\n                    :home-path="homePath"\n                    :space-description="spaceDescription" />',i18n:e,vuetify:u},"#SpaceTopBannerLogo","social-portlet")}))}function g(){h&&h.$destroy()}return e})()));